(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2cd9"],{"2AkU":function(e,t,a){"use strict";a.r(t);var n=a("7Qib"),r={name:"ordersList",data:function(){var e=this;return{listLoading:!1,total:0,pageNum:1,pageSize:10,currentButton:[],pickerBeginDateBefore:{disabledDate:function(t){return!!e.listQuery.endDate&&(t.getTime()>new Date(e.listQuery.endDate).getTime()||t.getTime()>(new Date).getTime())}},pickerBeginDateAfter:{disabledDate:function(t){return!!e.listQuery.startDate&&(t.getTime()<new Date(e.listQuery.startDate).getTime()||t.getTime()>(new Date).getTime())}},listQuery:{title:"",kind:"",status:"",startDate:null,endDate:null},listData:[],selectedData:[]}},mounted:function(){var e=this;this.$nextTick(function(){e.getListData(),Object(n.e)().then(function(t){e.currentButton=t})})},methods:{getListData:function(){},selectionChangeHandler:function(e){this.selectedData=e},handleSizeChange:function(e){},handleCurrentChange:function(e){},clear:function(){},isNull:function(e){return 0==e.length?(this.$message.warning("没有选中任何数据"),!1):!(e.length>1)||(this.$message.warning("请选择一条数据"),!1)},closeDialog:function(){this.$refs.editForm.resetFields()},btnClickHandle:function(e){switch(e){case"add":this.openEditDialog(1);break;case"edit":this.openEditDialog(2);break;case"del":this.openDelDialog()}}},filters:{}},i=(a("gyGk"),a("KHd+")),l=Object(i.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("nav",[a("div",{staticClass:"el-row mr10"},[a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title"},[e._v("代理商")]),e._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",placeholder:"全部"},model:{value:e.listQuery.pid,callback:function(t){e.$set(e.listQuery,"pid",t)},expression:"listQuery.pid"}},[a("el-option",{attrs:{label:"全部",value:-1}})],1)],1),e._v(" "),a("el-input",{staticClass:"nav-input",staticStyle:{width:"200px"},attrs:{placeholder:"请输入商户名称"},model:{value:e.listQuery.deName,callback:function(t){e.$set(e.listQuery,"deName",t)},expression:"listQuery.deName"}},[a("template",{slot:"prepend"},[e._v("商户名称")])],2),e._v(" "),a("el-input",{staticClass:"nav-input",staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号"},model:{value:e.listQuery.orderNo,callback:function(t){e.$set(e.listQuery,"orderNo",t)},expression:"listQuery.orderNo"}},[a("template",{slot:"prepend"},[e._v("订单号")])],2),e._v(" "),a("el-input",{staticClass:"nav-input",staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称"},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}},[a("template",{slot:"prepend"},[e._v("商品名称")])],2),e._v(" "),a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title"},[e._v("途径")]),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},[a("el-option",{attrs:{label:"全部",value:-1}}),e._v(" "),a("el-option",{attrs:{label:"系统赠送",value:0}}),e._v(" "),a("el-option",{attrs:{label:"购买",value:1}})],1)],1),e._v(" "),a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title"},[e._v("状态")]),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},[a("el-option",{attrs:{label:"全部",value:-1}}),e._v(" "),a("el-option",{attrs:{label:"成功",value:0}}),e._v(" "),a("el-option",{attrs:{label:"失败",value:1}}),e._v(" "),a("el-option",{attrs:{label:"处理中",value:2}}),e._v(" "),a("el-option",{attrs:{label:"已取消",value:3}})],1)],1),e._v(" "),a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title mt1"},[e._v("创建时间")]),e._v(" "),a("el-date-picker",{attrs:{editable:!1,type:"date","value-format":"yyyy-MM-dd",placeholder:"开始日期","picker-options":e.pickerBeginDateBefore},model:{value:e.listQuery.startDate,callback:function(t){e.$set(e.listQuery,"startDate",t)},expression:"listQuery.startDate"}}),e._v("\n            -\n            "),a("el-date-picker",{attrs:{editable:!1,type:"date","value-format":"yyyy-MM-dd",placeholder:"结束日期","picker-options":e.pickerBeginDateAfter},model:{value:e.listQuery.endDate,callback:function(t){e.$set(e.listQuery,"endDate",t)},expression:"listQuery.endDate"}})],1),e._v(" "),a("el-button",{staticClass:"search margin-t-20 margin-l-20 fl",attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),e._e()],1)]),e._v(" "),a("el-row",{staticClass:"margin-t-20"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.listData,"header-cell-style":{background:"#eef1f6",padding:"3px"},"cell-style":{padding:"3px"},"element-loading-text":"Loading",border:"",fit:"",stripe:"","highlight-current-row":""},on:{"selection-change":e.selectionChangeHandler}},[a("el-table-column",{attrs:{type:"selection",width:"50"}})],1)],1),e._v(" "),a("el-row",{staticClass:"leftBtnGroup"},e._l(e.currentButton,function(t,n){return a("el-button",{key:n,staticClass:"margin-t-20",attrs:{size:"mini",type:t.type},on:{click:function(a){e.btnClickHandle(t.flag)}}},[e._v(e._s(t.name))])})),e._v(" "),a("div",{staticClass:"pagination-container text-right"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,50],"page-size":e.pageSize,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},[],!1,null,null,null);l.options.__file="ordersList.vue";t.default=l.exports},"7Qib":function(e,t,a){"use strict";a.d(t,"h",function(){return v}),a.d(t,"d",function(){return f}),a.d(t,"g",function(){return g}),a.d(t,"b",function(){return h}),a.d(t,"f",function(){return y}),a.d(t,"a",function(){return m}),a.d(t,"i",function(){return w}),a.d(t,"c",function(){return b}),a.d(t,"e",function(){return D});var n=a("14Xm"),r=a.n(n),i=a("D3Ub"),l=a.n(i),s=(a("jWXv"),a("rfXi"),a("GQeE"),a("EJiy")),o=a.n(s),u=a("Kw5r"),c=a("Q2AE"),d=(a("X4fA"),a("Yfch")),p=a("N4Yp");function v(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",n=void 0;"object"===(void 0===e?"undefined":o()(e))?n=e:(10===(""+e).length&&(e=1e3*parseInt(e)),n=new Date(e));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=r[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function f(e){var t=e||new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function g(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();return t+"-"+a+"-"+(n=n<10?"0"+n:n)}u.default.prototype.copy_obj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var a in e)t[a]=e[a];return t},u.default.prototype.show_feeType=function(e,t){for(var a=[],n=0;n<a.length;n++)if(e===a[n])return!0},u.default.prototype.showPageNum=function(e,t,a){return a<=t?1:Math.ceil((a-0)/t)-e>=0?e:e-1},u.default.prototype.Multiple=function(e){return 100*((e-0)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)).toFixed(2)/100},u.default.prototype.delBackPage=function(e,t){var a=e.pageNum,n=e.pageSize,r=e.total,i=t.length,l=Math.ceil((r-i)/n);return l?l>=a?a:a-1:1},u.default.prototype.delBackPage2=function(e,t,a,n){var r=Math.ceil((a-n)/t);return r?r>=e?e:e-1:1},u.default.prototype.showDay=function(){var e=new Date,t=Number(e.getMonth())+1;return e.getFullYear()+"-"+t+"-"+e.getDate()},u.default.prototype.showWeekFirstDay=function(){var e=new Date,t=new Date(e-864e5*(e.getDay()-1)),a=Number(t.getMonth())+1;return e.getFullYear()+"-"+a+"-"+t.getDate()},u.default.prototype.showMonthFirstDay=function(){var e=new Date,t=new Date(e.getYear(),e.getMonth(),1),a=Number(t.getMonth())+1;return e.getFullYear()+"-"+a+"-"+t.getDate()},u.default.prototype.showMonthDay=function(){var e=new Date,t=new Date(e-2592e6),a=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return a+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)},u.default.prototype.formatImg=function(e){return e?e.indexOf(c.a.getters.appConfig.imageHost)>-1?e+"&token="+c.a.getters.token:e:""};function h(e,t,a){var n=void 0,r=void 0,i=void 0,l=void 0,s=void 0,o=function o(){var u=+new Date-l;u<t&&u>0?n=setTimeout(o,t-u):(n=null,a||(s=e.apply(i,r),n||(i=r=null)))};return function(){for(var r=arguments.length,u=Array(r),c=0;c<r;c++)u[c]=arguments[c];i=this,l=+new Date;var d=a&&!n;return n||(n=setTimeout(o,t)),d&&(s=e.apply(i,u),i=u=null),s}}function y(e){return 1==e.length||(window.vue.$message.warning("列表中请选择一个"),!1)}function m(e){return e.length>0||(window.vue.$message.warning("列表中请至少选择一个"),!1)}function w(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];m(e)&&window.vue.$confirm("确认"+(-1==t?"删除":r||(t?"开启":"关闭"))+"吗？").then(function(r){var l=[];e.find(function(e){l.push(e.id)}),window.vue.$store.dispatch("open_close_delete",{req_name:a,data:i||(-1==t?{id:l}:{id:l,status:t})}).then(function(e){window.vue.$message.success("成功!"),n&&n()})}).catch(function(e){})}function b(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();return t+"-"+a+"-"+(n=n<10?"0"+n:n)}var D=function(){var e=l()(r.a.mark(function e(){var t,a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a=window.vue.$route.query.id,n=window.vue.$route.path.substring(1),e.next=5,Object(p.k)({pageid:a,url:n});case 5:return i=e.sent,(t=i.rows).forEach(function(e){switch(e.flag=e.url.indexOf("|")>-1?e.url.split("|")[0]:e.url,e.flag){case"add":case"edit":case"list":case"custom":case"sms":case"detail":case"check":case"edit":case"upgrade":case"remove":case"batch":case"enter":case"export":case"pwd":e.type="primary";break;case"on":case"onModule":case"off":case"offModule":e.type="warning";break;case"del":case"delModule":e.type="danger";break;default:e.type="primary"}}),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();u.default.prototype.outExcel=function(e,t,n,r){var i=this;0!=r.length?Promise.all([a.e("chunk-7a80"),a.e("chunk-413d")]).then(a.bind(null,"S/jZ")).then(function(a){var l=Object(d.j)(n,r);a.export_json_to_excel({header:t,data:l,filename:e+Object(d.d)(),autoWidth:i.autoWidth})}):window.vue.$message.warning("请至少选择一条数据")},u.default.prototype.getCheckData=function(e,t,n){var r=this;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0!=t.length){for(var i=[],l=[],s=[],o=0;o<t.length;o++){var u=this.copy_obj(t[o]);s.push(u)}for(var p=0;p<n.length;p++)if(1!=n[p].hidden){if("money"==n[p].type||"rewardMoney"==n[p].type||"recordMoney"==n[p].type||"warningMoney"==n[p].type)for(var v=0;v<s.length;v++){var f=n[p].name;s[v][f]=Object(d.v)(s[v][f])}else if("stateMuch"==n[p].type)for(v=0;v<s.length;v++){f=n[p].name;s[v][f]=n[p].stateMuch[s[v][f]]}else if("arrayValue"==n[p].type){var g=c.a.getters[n[p].arrayValue].list;for(v=0;v<s.length;v++){f=n[p].name;if(g)for(var h=0;h<g.length;h++)if(g[h].value==s[v][f]){s[v][f]=g[h].label;break}}}i.push(n[p].label),l.push(n[p].name)}Promise.all([a.e("chunk-7a80"),a.e("chunk-413d")]).then(a.bind(null,"S/jZ")).then(function(t){var a=Object(d.j)(l,s);t.export_json_to_excel({header:i,data:a,filename:e+Object(d.d)(),autoWidth:r.autoWidth})})}else window.vue.$message.warning("请至少选择一条数据")},u.default.prototype.getParents=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(t)for(var a in t){if(t[a].value==e)return[t[a].value];if(t[a].children){var n=this.getParents(e,t[a].children);if(void 0!==n)return n.concat(t[a].value)}}},u.default.prototype.getAllChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(t)for(var a in t){if(t[a].value==e)return[t[a].value];if(!t[a].children)return n.concat(t[a].value);var n=this.getParents(e,t[a].children);if(void 0!==n)return n.concat(t[a].value)}},u.default.prototype.sortArr=function(e){if(e){for(var t=[],a=e.length;a--;a>=0)t.push(e[a]);return t}},u.default.prototype.toChinesNum=function(e){var t=["零","一","二","三","四","五","六","七","八","九"],a=["","十","百","千","万"];e=parseInt(e);var n=function(e){for(var n=e.toString().split("").reverse(),r="",i=0;i<n.length;i++)r=(0==i&&0==n[i]?"":i>0&&0==n[i]&&0==n[i-1]?"":t[n[i]]+(0==n[i]?a[0]:a[i]))+r;return r},r=Math.floor(e/1e4),i=e%1e4;return i.toString().length<4&&(i="0"+i),r?n(r)+"万"+n(i):n(e)}},U3dZ:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.no-m-b {\r\n  margin-bottom: 0;\n}\r\n",""])},gyGk:function(e,t,a){"use strict";var n=a("tymw");a.n(n).a},tymw:function(e,t,a){var n=a("U3dZ");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e1cd2264",n,!0,{})}}]);