(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e956"],{"7atc":function(e,t,n){"use strict";n.r(t);var a=n("QbLZ"),i=n.n(a),s=n("rY9o"),l=n("L2JU"),r=n("7Qib"),o=n("X4fA"),u=n("6Uqi"),c=n("caUn"),d=n("4Vms"),p={name:"polymerizeDay",components:{PageTable:u.a,timeBox:c.a,agentBox:d.a},data:function(){return{productAgentidArr:[],userType:Object(o.f)(),listQuery:{productAgentId:"",productId:"",startDate:"",endDate:"",pageNum:1,pageSize:10,flag:2,tag:2,agentFindType:3},posData:{list:[],pageNum:1,pageSize:10,total:0,loading:!1},listLoading:!1,currentButton:[],multipleSelection:[],listQuery2:{},startDate:new Date((new Date).setDate((new Date).getDate()-7)),endDate:new Date,table_list:[{label:"代理商名称",width:"120px",name:"productAgentName",checked:!0},{type:"labelType",label:"订单日期",name:"exactTime",checked:!0,width:"120px"},{type:"number",label:"交易总笔数",width:"130px",name:"totalTransactionCount",checked:!0},{type:"money",label:"交易总金额(元)",name:"totalMoney",width:"130px",checked:!0},{type:"money",label:"手续费总金额(元)",width:"140px",name:"totalFee",checked:!0},{type:"number",label:"普通收款交易笔数",width:"150px",name:"gatheringTransactionCount",checked:!0},{type:"money",label:"普通收款交易金额(元)",width:"180px",name:"gatheringMoney",checked:!0},{type:"money",label:"普通收款手续费金额(元)",width:"140px",name:"gatheringFee",checked:!0},{type:"number",label:"开通费交易笔数",width:"130px",name:"openingTransactionCount",checked:!0},{type:"money",label:"开通费交易金额(元)",width:"180px",name:"openingMoney",checked:!0},{type:"money",label:"开通费手续费金额(元)",width:"180px",name:"openingFee",checked:!0}]}},computed:i()({},Object(l.b)(["agentList","day_polymerize_list","productInfo"])),mounted:function(){var e=this;this.$nextTick(function(){e.pageLoad()})},methods:{pageLoad:function(){var e=this;Object(r.e)().then(function(t){e.currentButton=t}),this.sizeChange(10)},currentChange:function(e){this.select_query(e)},sizeChange:function(e){this.listQuery2=this.copy_obj(this.listQuery),this.select_query(1,e)},select_query:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var a in this.table_list)"labelType"==this.table_list[a].type&&(1==this.listQuery2.flag?this.table_list[a].label="清算日":this.table_list[a].label="订单日期");var i=JSON.parse(Object(o.b)());this.listQuery2.productId=i.id,this.listQuery2.startDate=Object(r.g)(this.startDate)+" 00:00:00",this.listQuery2.endDate=Object(r.g)(this.endDate)+" 23:59:59",this.listQuery2.pageNum=t||this.posData.pageNum,this.listQuery2.pageSize=n||this.posData.pageSize,this.posData.loading=!0,this.$store.dispatch("reqUrl_SysData",{reqName:s.Tc,dataName:"day_polymerize_list",data:this.listQuery2}).then(function(t){e.posData.list=t.data.getPosPayDayOrders,e.posData.total=t.total,e.posData.loading=!1,e.posData.pageNum=e.listQuery2.pageNum,e.posData.pageSize=e.listQuery2.pageSize}).catch(function(t){e.posData.loading=!1})},handleSelectionChange:function(e){this.multipleSelection=e},updateFlag:function(e,t,n){this.listQuery.flag=e,this.flag=e,this.startDate=t,this.endDate=n},selectAgentFun:function(e,t,n){this.listQuery.productAgentId=e,this.listQuery.agentFindType=t,1===n&&this.pageLoad()},btnClickHandle:function(e){switch(e){case"export":this.getCheckData("聚合收款日订单统计",this.multipleSelection,this.table_list)}}}},h=(n("KOGE"),n("KHd+")),D=Object(h.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"table"},[n("div",{staticClass:"container"},[n("nav",[n("el-row",[n("agentBox",{on:{selectAgentFun:e.selectAgentFun}}),e._v(" "),n("timeBox",{attrs:{page:"polymerizeDay",showday:"1"},on:{updateFlag:e.updateFlag}}),e._v(" "),n("el-button",{staticClass:"search margin-t-20",attrs:{type:"primary",icon:"search"},on:{click:function(t){e.sizeChange(10)}}},[e._v("查询")])],1)],1),e._v(" "),n("div",{staticClass:"tip clearfix"},[n("div",{staticClass:"fl margin-r-30"},[e._v("\n          交易总笔数：\n          "),n("span",{staticClass:"color-blue"},[e._v(e._s(e.day_polymerize_list.list&&e.day_polymerize_list.list.allTotalTransactionCount))]),e._v("笔\n        ")]),e._v(" "),n("div",{staticClass:"fl margin-r-30"},[e._v("\n          交易总金额：\n          "),n("span",{staticClass:"color-blue"},[e._v(e._s(e._f("formatToYuan")(e.day_polymerize_list.list&&e.day_polymerize_list.list.allTotalMoney)))]),e._v("元\n        ")]),e._v(" "),n("div",{staticClass:"fl margin-r-30"},[e._v("\n          手续费总金额：\n          "),n("span",{staticClass:"color-blue"},[e._v(e._s(e._f("formatToYuan")(e.day_polymerize_list.list&&e.day_polymerize_list.list.allTotalFee)))]),e._v("元\n        ")])]),e._v(" "),n("PageTable",{attrs:{listWidth:!0,showSummary:!0,tableList:e.table_list,tableData:e.posData,currentButton:e.currentButton},on:{handleSelectionChange:e.handleSelectionChange,sizeChange:e.sizeChange,currentChange:e.currentChange,btnClickHandle:e.btnClickHandle}})],1)])])},[],!1,null,null,null);D.options.__file="polymerizeDay.vue";t.default=D.exports},"8mmp":function(e,t,n){var a=n("lEN/");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("857c6852",a,!0,{})},KOGE:function(e,t,n){"use strict";var a=n("8mmp");n.n(a).a},RQWr:function(e,t,n){var a=n("snek");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("28ef560a",a,!0,{})},"RU/L":function(e,t,n){n("Rqdy");var a=n("WEpk").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},Rqdy:function(e,t,n){var a=n("Y7ZC");a(a.S+a.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},SEkw:function(e,t,n){e.exports={default:n("RU/L"),__esModule:!0}},YEIV:function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n("SEkw"));t.default=function(e,t,n){return t in e?(0,a.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},caUn:function(e,t,n){"use strict";var a=n("QbLZ"),i=n.n(a),s=n("L2JU"),l=(n("rY9o"),n("X4fA"),{props:["page","timeOption","refund","showday","defaultDate","disType"],data:function(){var e=this;return{flag:2,loading:!1,timeBox:"",regDate:new Date((new Date).setDate((new Date).getDate()-7)),startDate:new Date((new Date).setDate((new Date).getDate()-7)),endDate:new Date,timeValue:0,pickerBeginDateBefore:{disabledDate:function(t){if(e.endDate)return t.getTime()>(new Date).getTime()}},pickerBeginDateAfter:{disabledDate:function(t){var n=e.startDate,a=e.availableDay,i=new Date(new Date(n).setDate(new Date(n).getDate()+a));if(n)return t.getTime()<n||t.getTime()>i||t.getTime()>(new Date).getTime()}}}},watch:{flag:function(e){this.$emit("updateFlag",this.flag,this.startDate,this.endDate)},timeOption:function(e){this.timeValue=e[0].value},defaultDay:function(e){this.resetDate()}},computed:i()({},Object(s.b)([""]),{availableDay:function(){return reqCfg.dateArr&&reqCfg.dateArr[""+this.page]&&reqCfg.dateArr[""+this.page].availableDay?reqCfg.dateArr[""+this.page].availableDay:this.defaultDate&&this.defaultDate.availableDay?this.defaultDate.availableDay:30},defaultDay:function(){return reqCfg.dateArr&&reqCfg.dateArr[""+this.page]&&reqCfg.dateArr[""+this.page].day?reqCfg.dateArr[""+this.page].day:this.defaultDate&&this.defaultDate.day||this.defaultDate&&0===this.defaultDate.day?this.defaultDate.day:7}}),mounted:function(){var e=this;this.$nextTick(function(){e.$route.query.startDate&&(e.startDate=new Date(e.$route.query.startDate)),e.$route.query.endDate&&(e.endDate=new Date(e.$route.query.endDate)),e.$route.query.startDate||e.$route.query.endDate||(e.regDate=e.startDate=new Date((new Date).setDate((new Date).getDate()-e.defaultDay))),e.$route.query.timeValue&&(e.timeValue=e.$route.query.timeValue-0),e.timeOption&&e.timeOption.length&&(e.timeValue=e.timeOption[0].value),e.timeOption&&e.timeOption.length?e.$emit("updateTimeValue",e.timeValue,e.startDate,e.endDate):e.$emit("updateFlag",e.flag,e.startDate,e.endDate)})},methods:{statusChange:function(e){this.startDate=this.regDate,this.endDate=new Date},timeValueChange:function(e){this.timeValue=e,this.startDate=this.regDate,this.endDate=new Date,this.timeOption&&this.timeOption.length?this.$emit("updateTimeValue",this.timeValue,this.startDate,this.endDate):this.$emit("updateFlag",this.flag,this.startDate,this.endDate)},resetDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.startDate=new Date((new Date).setDate((new Date).getDate()-this.defaultDay)),this.endDate=new Date,e&&e(this.startDate,this.endDate),this.$emit("updateTimeValue",this.timeValu,this.startDate,this.endDate)},startDateChange:function(e){var t=new Date(new Date(e).setDate(new Date(e).getDate()+this.availableDay)),n=new Date(new Date(e).setDate(new Date(e).getDate()+this.defaultDay));this.endDate=t<n.getTime()?t<(new Date).getTime()?t:new Date:n<(new Date).getTime()?n:new Date,this.timeOption&&this.timeOption.length?this.$emit("updateTimeValue",this.timeValue,this.startDate,this.endDate):this.$emit("updateFlag",this.flag,this.startDate,this.endDate)},endDateChange:function(e){this.timeOption&&this.timeOption.length?this.$emit("updateTimeValue",this.timeValue,this.startDate,this.endDate):this.$emit("updateFlag",this.flag,this.startDate,this.endDate)}}}),r=(n("nAPR"),n("KHd+")),o=Object(r.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"nav-select"},[e.timeOption&&e.timeOption.length>1?n("div",{staticClass:"nav-select-title select-input-style"},[n("el-select",{staticClass:"handle-select select-w-2 big-small select-date-style",attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.timeValueChange},slot:"prepend",model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}},e._l(e.timeOption,function(e,t){return n("el-option",{key:t,attrs:{label:e.text,value:e.value}})}))],1):e.timeOption&&1==e.timeOption.length?n("div",{staticClass:"nav-select-title select-input-style"},[e._v(e._s(e.timeOption[0].text))]):n("div",{staticClass:"nav-select-title select-input-style"},[n("el-select",{staticClass:"handle-select select-w-2 big-small select-date-style",attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.statusChange},slot:"prepend",model:{value:e.flag,callback:function(t){e.flag=t},expression:"flag"}},[n("el-option",{attrs:{label:1==e.showday?"订单日期":"订单时间",value:2}}),e._v(" "),n("el-option",{attrs:{label:"清算日",value:1}}),e._v(" "),1==e.refund?n("el-option",{attrs:{label:"退款时间",value:3}}):e._e()],1)],1),e._v(" "),n("el-date-picker",{attrs:{editable:!1,type:"date","picker-options":e.pickerBeginDateBefore,disabled:e.disType||!1},on:{change:e.startDateChange},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),e._v(" -\n    "),n("el-date-picker",{attrs:{editable:!1,type:"date","picker-options":e.pickerBeginDateAfter,disabled:e.disType||!1},on:{change:e.endDateChange},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)])},[],!1,null,"320aab82",null);o.options.__file="timeBox.vue";t.a=o.exports},"lEN/":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},nAPR:function(e,t,n){"use strict";var a=n("RQWr");n.n(a).a},snek:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.select-input-style[data-v-320aab82] .el-select .el-input__inner:focus {\r\n  border-color: rgba(0, 0, 0, 0);\n}\n.select-date-style[data-v-320aab82] .el-input__inner {\r\n  background-color: rgba(0, 0, 0, 0);\r\n  border: none;\n}\n.select-date-style[data-v-320aab82] .el-input__inner {\r\n  padding-right: 0px;\r\n  padding-left: 0px;\r\n  color: #909399;\n}\n.select-date-style[data-v-320aab82] .el-select__caret {\r\n  margin-right: -20px !important;\n}\r\n",""])}}]);