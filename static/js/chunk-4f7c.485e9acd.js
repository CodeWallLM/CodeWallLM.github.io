(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4f7c"],{"7Qib":function(e,t,n){"use strict";n.d(t,"h",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"i",function(){return b}),n.d(t,"c",function(){return M}),n.d(t,"e",function(){return w});var a=n("14Xm"),r=n.n(a),i=n("D3Ub"),s=n.n(i),l=(n("jWXv"),n("rfXi"),n("GQeE"),n("EJiy")),o=n.n(l),u=n("Kw5r"),d=n("Q2AE"),c=(n("X4fA"),n("Yfch")),p=n("N4Yp");function h(e,t){if(0===arguments.length)return null;var n=t||"{y}-{m}-{d} {h}:{i}:{s}",a=void 0;"object"===(void 0===e?"undefined":o()(e))?a=e:(10===(""+e).length&&(e=1e3*parseInt(e)),a=new Date(e));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return n.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var n=r[t];return"a"===t?["日","一","二","三","四","五","六"][n]:(e.length>0&&n<10&&(n="0"+n),n||0)})}function m(e){var t=e||new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function f(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var a=e.getDate();return t+"-"+n+"-"+(a=a<10?"0"+a:a)}u.default.prototype.copy_obj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)t[n]=e[n];return t},u.default.prototype.show_feeType=function(e,t){for(var n=[],a=0;a<n.length;a++)if(e===n[a])return!0},u.default.prototype.showPageNum=function(e,t,n){return n<=t?1:Math.ceil((n-0)/t)-e>=0?e:e-1},u.default.prototype.Multiple=function(e){return 100*((e-0)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)).toFixed(2)/100},u.default.prototype.delBackPage=function(e,t){var n=e.pageNum,a=e.pageSize,r=e.total,i=t.length,s=Math.ceil((r-i)/a);return s?s>=n?n:n-1:1},u.default.prototype.delBackPage2=function(e,t,n,a){var r=Math.ceil((n-a)/t);return r?r>=e?e:e-1:1},u.default.prototype.showDay=function(){var e=new Date,t=Number(e.getMonth())+1;return e.getFullYear()+"-"+t+"-"+e.getDate()},u.default.prototype.showWeekFirstDay=function(){var e=new Date,t=new Date(e-864e5*(e.getDay()-1)),n=Number(t.getMonth())+1;return e.getFullYear()+"-"+n+"-"+t.getDate()},u.default.prototype.showMonthFirstDay=function(){var e=new Date,t=new Date(e.getYear(),e.getMonth(),1),n=Number(t.getMonth())+1;return e.getFullYear()+"-"+n+"-"+t.getDate()},u.default.prototype.showMonthDay=function(){var e=new Date,t=new Date(e-2592e6),n=t.getFullYear(),a=t.getMonth()+1,r=t.getDate();return n+"-"+(a<10?"0"+a:a)+"-"+(r<10?"0"+r:r)},u.default.prototype.formatImg=function(e){return e?e.indexOf(d.a.getters.appConfig.imageHost)>-1?e+"&token="+d.a.getters.token:e:""};function g(e,t,n){var a=void 0,r=void 0,i=void 0,s=void 0,l=void 0,o=function o(){var u=+new Date-s;u<t&&u>0?a=setTimeout(o,t-u):(a=null,n||(l=e.apply(i,r),a||(i=r=null)))};return function(){for(var r=arguments.length,u=Array(r),d=0;d<r;d++)u[d]=arguments[d];i=this,s=+new Date;var c=n&&!a;return a||(a=setTimeout(o,t)),c&&(l=e.apply(i,u),i=u=null),l}}function v(e){return 1==e.length||(window.vue.$message.warning("列表中请选择一个"),!1)}function y(e){return e.length>0||(window.vue.$message.warning("列表中请至少选择一个"),!1)}function b(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];y(e)&&window.vue.$confirm("确认"+(-1==t?"删除":r||(t?"开启":"关闭"))+"吗？").then(function(r){var s=[];e.find(function(e){s.push(e.id)}),window.vue.$store.dispatch("open_close_delete",{req_name:n,data:i||(-1==t?{id:s}:{id:s,status:t})}).then(function(e){window.vue.$message.success("成功!"),a&&a()})}).catch(function(e){})}function M(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var a=e.getDate();return t+"-"+n+"-"+(a=a<10?"0"+a:a)}var w=function(){var e=s()(r.a.mark(function e(){var t,n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=window.vue.$route.query.id,a=window.vue.$route.path.substring(1),e.next=5,Object(p.k)({pageid:n,url:a});case 5:return i=e.sent,(t=i.rows).forEach(function(e){switch(e.flag=e.url.indexOf("|")>-1?e.url.split("|")[0]:e.url,e.flag){case"add":case"edit":case"list":case"custom":case"sms":case"detail":case"check":case"edit":case"upgrade":case"remove":case"batch":case"enter":case"export":case"pwd":e.type="primary";break;case"on":case"onModule":case"off":case"offModule":e.type="warning";break;case"del":case"delModule":e.type="danger";break;default:e.type="primary"}}),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();u.default.prototype.outExcel=function(e,t,a,r){var i=this;0!=r.length?Promise.all([n.e("chunk-7a80"),n.e("chunk-413d")]).then(n.bind(null,"S/jZ")).then(function(n){var s=Object(c.j)(a,r);n.export_json_to_excel({header:t,data:s,filename:e+Object(c.d)(),autoWidth:i.autoWidth})}):window.vue.$message.warning("请至少选择一条数据")},u.default.prototype.getCheckData=function(e,t,a){var r=this;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0!=t.length){for(var i=[],s=[],l=[],o=0;o<t.length;o++){var u=this.copy_obj(t[o]);l.push(u)}for(var p=0;p<a.length;p++)if(1!=a[p].hidden){if("money"==a[p].type||"rewardMoney"==a[p].type||"recordMoney"==a[p].type||"warningMoney"==a[p].type)for(var h=0;h<l.length;h++){var m=a[p].name;l[h][m]=Object(c.v)(l[h][m])}else if("stateMuch"==a[p].type)for(h=0;h<l.length;h++){m=a[p].name;l[h][m]=a[p].stateMuch[l[h][m]]}else if("arrayValue"==a[p].type){var f=d.a.getters[a[p].arrayValue].list;for(h=0;h<l.length;h++){m=a[p].name;if(f)for(var g=0;g<f.length;g++)if(f[g].value==l[h][m]){l[h][m]=f[g].label;break}}}i.push(a[p].label),s.push(a[p].name)}Promise.all([n.e("chunk-7a80"),n.e("chunk-413d")]).then(n.bind(null,"S/jZ")).then(function(t){var n=Object(c.j)(s,l);t.export_json_to_excel({header:i,data:n,filename:e+Object(c.d)(),autoWidth:r.autoWidth})})}else window.vue.$message.warning("请至少选择一条数据")},u.default.prototype.getParents=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(t)for(var n in t){if(t[n].value==e)return[t[n].value];if(t[n].children){var a=this.getParents(e,t[n].children);if(void 0!==a)return a.concat(t[n].value)}}},u.default.prototype.getAllChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(t)for(var n in t){if(t[n].value==e)return[t[n].value];if(!t[n].children)return a.concat(t[n].value);var a=this.getParents(e,t[n].children);if(void 0!==a)return a.concat(t[n].value)}},u.default.prototype.sortArr=function(e){if(e){for(var t=[],n=e.length;n--;n>=0)t.push(e[n]);return t}},u.default.prototype.toChinesNum=function(e){var t=["零","一","二","三","四","五","六","七","八","九"],n=["","十","百","千","万"];e=parseInt(e);var a=function(e){for(var a=e.toString().split("").reverse(),r="",i=0;i<a.length;i++)r=(0==i&&0==a[i]?"":i>0&&0==a[i]&&0==a[i-1]?"":t[a[i]]+(0==a[i]?n[0]:n[i]))+r;return r},r=Math.floor(e/1e4),i=e%1e4;return i.toString().length<4&&(i="0"+i),r?a(r)+"万"+a(i):a(e)}},CVcl:function(e,t,n){"use strict";var a=n("laf7");n.n(a).a},c2o1:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.auth {\r\n  border: 1px solid #ddd;\r\n  /* height: 500px; */\r\n  /* overflow-y: scroll; */\n}\n.auth-title {\r\n  border-bottom: 1px solid #ddd;\r\n  line-height: 40px;\r\n  height: 40px;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  padding-left: 20px;\n}\n.btn-add-group {\r\n  margin: 5px 20px 0 20px;\n}\n.auth ul {\r\n  padding: 0 10px;\n}\n.auth .el-input__inner {\r\n  border: none;\n}\n.auth ul li {\r\n  color: #646464;\r\n  list-style: none;\r\n  cursor: pointer;\r\n  height: 40px;\r\n  background-color: #fff;\r\n  text-align: left;\r\n  line-height: 34px;\r\n  padding: 5px 10px;\r\n  border-left: 1px solid #eee;\r\n  border-right: 1px solid #eee;\r\n  /* -webkit-box-sizing: border-box; */\r\n  /* box-sizing: border-box; */\r\n  /* -webkit-box-shadow: 0px 1px 3px 0 rgba(0, 0, 0, 0.2); */\r\n  /* box-shadow: 0px 1px 3px 0 rgba(0, 0, 0, 0.2); */\n}\n.btn-right {\r\n  float: right;\n}\n.auth ul li:nth-child(even) {\r\n  background: #fafafa;\r\n  border-top: 1px solid #eee;\n}\n.auth ul li:nth-child(odd) {\r\n  border-top: 1px solid #eee;\n}\n.auth ul li:last-child {\r\n  border-bottom: 1px solid #eee;\n}\n.auth .el-collapse-item__header {\r\n  padding-left: 20px;\n}\n.mb0 {\r\n  margin-bottom: 0 !important;\n}\n.mb7 {\r\n  margin-bottom: 7px !important;\n}\n.tree-tips {\r\n  margin-top: 5px;\r\n  margin-bottom: 0;\r\n  color: #f00;\n}\n.custom-tree-node {\r\n  -webkit-box-flex: 1;\r\n      -ms-flex: 1;\r\n          flex: 1;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n      -ms-flex-align: center;\r\n          align-items: center;\r\n  -webkit-box-pack: justify;\r\n      -ms-flex-pack: justify;\r\n          justify-content: space-between;\r\n  padding-right: 15px;\n}\r\n",""])},laf7:function(e,t,n){var a=n("c2o1");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("6a836dcc",a,!0,{})},yagD:function(e,t,n){"use strict";n.r(t);var a=n("14Xm"),r=n.n(a),i=n("D3Ub"),s=n.n(i),l=n("FyfS"),o=n.n(l),u=n("gDS+"),d=n.n(u),c=(n("rY9o"),n("N4Yp")),p=n("7Qib"),h={name:"menuList",data:function(){return{listLoading:!1,orderLoading:!1,sysMenuList:[],currentMenuList:[],selectedTrs:[],searchData:{productID:"",name:"",menuType:"",show:""},sysMenuPager:{skip:1,take:10,total:0},addMenuForm:{pid:"",pName:"",Rows:[],allSelected:!1,addType:"",label:"",label2:"",typeDisabled:!1},editMenuForm:{},addMenuVisible:!1,editMenuVisible:!1,treeVisible:!1,orderVisible:!1,menuEditRules:{},selectedTreeNode:{tips:"",data:""},menuTree:[],orderTree:[],menuTreeProps:{children:"menuData",label:"nodeLabel"},currentButton:[],defaultExpandIds:[]}},mounted:function(){var e=this;this.GetSysMenu(),Object(p.e)().then(function(t){e.currentButton=t})},methods:{GetSysMenu:function(){var e=this;this.listLoading=!0,Object(c.m)().then(function(t){e.listLoading=!1;var n=JSON.parse(d()(t.rows));e.setMenuTree(n,"",""),e.sysMenuList=[],e.menuTreeToTable(t.rows,"","",""),e.updateMenuPager()})},setMenuTree:function(e,t,n){n+=t+",";var a=!0,r=!1,i=void 0;try{for(var s,l=o()(e);!(a=(s=l.next()).done);a=!0){var u=s.value;u.layer=n+u.name,u.nodeLabel=u.name+"("+this.getMenuTypeChs(u)+")",1===u.menuType&&u.menuData.length>0?this.setMenuTree(u.menuData,u.name,n):u.menuData=[]}}catch(e){r=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw i}}var d=[{menuData:e,layer:"",name:"一级菜单",nodeLabel:"一级菜单(菜单)",show:!0,menuType:1,id:"",url:""}];this.menuTree=d},GetOrderSysMenu:function(){var e=this;this.orderLoading=!0,Object(c.m)().then(function(t){var n=JSON.parse(d()(t.rows));e.defaultExpandIds=[0],e.setOrderTree(n,1),e.orderLoading=!1})},setOrderTree:function(e,t){var n=!0,a=!1,r=void 0;try{for(var i,s=o()(e);!(n=(i=s.next()).done);n=!0){var l=i.value;l.nodeIndex=t,1===l.menuType&&this.defaultExpandIds.push(l.nodeIndex),l.nodeLabel=l.name+"("+this.getMenuTypeChs(l)+")",t++,l.menuData.length>0&&this.setOrderTree(l.menuData,100*l.nodeIndex)}}catch(e){a=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw r}}var u=[{menuData:e,layer:"",name:"一级菜单",nodeLabel:"一级菜单(菜单)",show:!0,menuType:1,id:"000000000000000000",nodeIndex:0,url:"",orderIndex:1}];this.orderTree=u},menuTreeToTable:function(e,t,n,a){a+=n+",";var r=!0,i=!1,s=void 0;try{for(var l,u=o()(e);!(r=(l=u.next()).done);r=!0){var d=l.value,c={id:d.id,pid:t,name:d.name,parent:n,menuType:d.menuType,menuTypeChs:this.getMenuTypeChs(d),url:d.url,layer:a,show:d.show};this.sysMenuList.push(c),d.menuData.length>0&&this.menuTreeToTable(d.menuData,d.id,d.name,a)}}catch(e){i=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw s}}},updateMenuPager:function(){this.sysMenuPager.total=this.sysMenuList.length;var e=(this.sysMenuPager.skip-1)*this.sysMenuPager.take,t=this.sysMenuPager.take+e;this.currentMenuList=this.sysMenuList.slice(e,t)},getMenuTypeChs:function(e){return 1===e.menuType?"菜单":2===e.menuType?"页面":"按钮"},openAddMenuDialog:function(){return this.selectedTrs.length>1?(this.$message.warning("请选择一条数据"),!1):this.selectedTrs.length>0&&3===this.selectedTrs[0].menuType?(this.$message.warning("按钮下不能添加任何记录"),!1):(0===this.selectedTrs.length?(this.addMenuForm.pid="",this.addMenuForm.pName="一级菜单",this.addMenuForm.addType="菜单/页面",this.addMenuForm.label="上级菜单名称",this.addMenuForm.label2="类型",this.addMenuForm.type=1,this.addMenuForm.typeDisabled=!0):(this.addMenuForm.pid=this.selectedTrs[0].id,this.addMenuForm.pName=this.selectedTrs[0].name,this.addMenuForm.addType=2===this.selectedTrs[0].menuType?"按钮":"菜单/页面",this.addMenuForm.label=2===this.selectedTrs[0].menuType?"上级页面名称":"上级菜单名称",this.addMenuForm.label2=2===this.selectedTrs[0].menuType?"按钮名称":"类型",this.addMenuForm.type=1,this.addMenuForm.typeDisabled=!1),this.addMenuForm.Rows=[],this.addMenuForm.allSelected=!1,this.addMenuFormRow(),void(this.addMenuVisible=!0))},openDelDialog:function(){var e=this;if(0==this.selectedTrs.length)return this.$message.warning("请至少选择一条记录");var t=[];this.selectedTrs.find(function(e){return t.push(e.id)}),this.$confirm("删除不可恢复，是否确定删除？").then(function(){e.listLoading=!0,Object(c.d)({id:t}).then(function(t){e.listLoading=!1,e.$message.success("删除成功"),e.GetSysMenu()})})},openEditMenuDialog:function(){if(this.isNull(this.selectedTrs)){this.editMenuForm=JSON.parse(d()(this.selectedTrs[0]));var e=this.editMenuForm.layer;e=(e=0===e.indexOf(",")?e.substring(1):e).lastIndexOf(",")===e.length-1?e.substring(0,e.length-1):e,this.editMenuForm.layer=e.replace(/,/g," > "),this.editMenuForm.layer=this.editMenuForm.layer||"一级菜单",this.setEditMenuFormLabel(this.editMenuForm.menuType),this.editMenuVisible=!0}},setEditMenuFormLabel:function(e){switch(e){case 1:this.editMenuForm.nameLabel="菜单名称",this.editMenuForm.urlLabel="菜单url",this.editMenuForm.namePlaceholder="请输入菜单名称",this.editMenuForm.urlPlaceholder="请输入菜单url",this.editMenuForm.urlDisabled=!1;break;case 2:this.editMenuForm.nameLabel="页面名称",this.editMenuForm.urlLabel="页面url",this.editMenuForm.namePlaceholder="请输入页面名称",this.editMenuForm.urlPlaceholder="请输入页面url",this.editMenuForm.urlDisabled=!1;break;case 3:this.editMenuForm.nameLabel="按钮名称",this.editMenuForm.urlLabel="按钮事件",this.editMenuForm.namePlaceholder="请输入按钮名称",this.editMenuForm.urlPlaceholder="请输入按钮事件",this.editMenuForm.urlDisabled=!1}},selectionChangeHandler:function(e){this.selectedTrs=e},isNull:function(e){return 0==e.length?(this.$message.warning("没有选中任何数据"),!1):!(e.length>1)||(this.$message.warning("请选择一条数据"),!1)},addMenuSave:function(){var e=this;return s()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={sysMenuDataList:[]},e.addMenuForm.Rows.filter(function(e){return""!==e.name}).forEach(function(t){var a={menuType:parseInt(t.type),name:t.name,pid:e.addMenuForm.pid,show:t.show,url:t.url};n.sysMenuDataList.push(a)}),Object(c.b)(n),e.$message.success("添加操作成功"),e.addMenuVisible=!1,e.GetSysMenu();case 6:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.sysMenuPager.take=e,this.updateMenuPager()},handleCurrentChange:function(e){this.sysMenuPager.skip=e,this.updateMenuPager()},editSysMenu:function(){var e=this;this.listLoading=!0;var t={id:this.editMenuForm.id,menuType:this.editMenuForm.menuType,name:this.editMenuForm.name,pid:this.editMenuForm.pid,show:this.editMenuForm.show,url:this.editMenuForm.url};Object(c.g)(t).then(function(t){e.listLoading=!1,e.$message.success("修改操作成功"),e.editMenuVisible=!1,e.GetSysMenu()})},addMenuFormRow:function(){var e={};e="菜单/页面"===this.addMenuForm.addType?{name:"",url:"",type:"1",type_span:3,menu_span:7,page_span:7,menu_tips:"请输入菜单名称",page_tips:"请输入菜单url",show:!1,selected:!1}:{name:"",url:"",type:"3",type_span:0,menu_span:8,page_span:8,menu_tips:"请输入按钮名称",page_tips:"请输入按钮事件",show:!1,selected:!1},this.addMenuForm.Rows.push(e)},delMenuFormRow:function(){for(var e=this.addMenuForm.Rows.length-1;e>=0;e--)this.addMenuForm.Rows[e].selected&&this.addMenuForm.Rows.splice(e,1);0===this.addMenuForm.Rows.length&&(this.addMenuForm.allSelected=!1)},menuFormSelectedChange:function(){var e=0;this.addMenuForm.Rows.forEach(function(t){t.selected&&e++}),e===this.addMenuForm.Rows.length?this.addMenuForm.allSelected=!0:this.addMenuForm.allSelected=!1},menuFormAllSelectedChange:function(){var e=this;this.addMenuForm.Rows.forEach(function(t){t.selected=e.addMenuForm.allSelected})},menuFormTypeChange:function(e){"1"===e.type?(e.type_span=3,e.menu_span=7,e.page_span=7,e.menu_tips="请输入菜单名称",e.page_tips="请输入菜单url"):(e.type_span=3,e.menu_span=7,e.page_span=7,e.menu_tips="请输入页面名称",e.page_tips="请输入页面url")},editMenuTypeChange:function(){this.setEditMenuFormLabel(this.editMenuForm.menuType),1===this.editMenuForm.menuType&&(this.editMenuForm.url="")},menuTreeClick:function(e,t,n){switch(this.editMenuForm.menuType){case 1:case 2:1!==e.menuType?this.selectedTreeNode.tips="提示：只能选择类型为菜单的树节点":this.selectedTreeNode.tips="";break;case 3:2!==e.menuType?this.selectedTreeNode.tips="提示：只能选择类型为页面的树节点":this.selectedTreeNode.tips=""}this.selectedTreeNode.data=e},menuTreeOkClick:function(){if(!this.selectedTreeNode.tips){var e=this.selectedTreeNode.data.layer;e=(e=0===e.indexOf(",")?e.substring(1):e).lastIndexOf(",")===e.length-1?e.substring(0,e.length-1):e,this.editMenuForm.layer=e.replace(/,/g," > "),this.editMenuForm.pid=this.selectedTreeNode.data.id,this.treeVisible=!1}},onSearchClick:function(){var e=this;this.listLoading=!0,this.sysMenuPager.skip=1,Object(c.m)().then(function(t){e.listLoading=!1,e.sysMenuList=[],e.menuTreeToTable(t.rows,"","",""),e.searchData.name&&(e.sysMenuList=e.sysMenuList.filter(function(t){return t.name.indexOf(e.searchData.name)>-1})),e.searchData.menuType&&e.searchData.menuType>-1&&(e.sysMenuList=e.sysMenuList.filter(function(t){return t.menuType===e.searchData.menuType})),""!==e.searchData.show&&-1!==e.searchData.show&&(e.sysMenuList=e.sysMenuList.filter(function(t){return t.show===e.searchData.show})),e.updateMenuPager()})},onClearClick:function(){this.searchData={productID:"",name:"",menuType:"",show:""},this.GetSysMenu()},editMenuOrder:function(e,t){var n=this;Object(c.h)({editOrderUp:e,id:t}).then(function(e){n.GetOrderSysMenu()})},btnClickHandle:function(e){var t=this;switch(e){case"add":this.openAddMenuDialog();break;case"edit":this.openEditMenuDialog();break;case"del":this.openDelDialog();break;case"order":this.$nextTick(function(){t.GetOrderSysMenu(),t.orderVisible=!0})}}},filters:{getTrueFalseChs:function(e){return e?"是":"否"},getMenuTypeChs:function(e){return 1===e?"菜单":2===e?"页面":3===e?"按钮":void 0}}},m=(n("CVcl"),n("KHd+")),f=Object(m.a)(h,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("nav",[n("el-row",{staticClass:"margin-b-20"},[n("el-input",{staticClass:"nav-input font-w-2",attrs:{placeholder:"请输入名称"},model:{value:e.searchData.name,callback:function(t){e.$set(e.searchData,"name",t)},expression:"searchData.name"}},[n("template",{slot:"prepend"},[e._v("名称")])],2),e._v(" "),n("div",{staticClass:"nav-select"},[n("div",{staticClass:"nav-select-title"},[e._v("类型")]),e._v(" "),n("el-select",{staticClass:"wh-select select-w-4",attrs:{placeholder:"全部"},model:{value:e.searchData.menuType,callback:function(t){e.$set(e.searchData,"menuType",t)},expression:"searchData.menuType"}},[n("el-option",{key:0,attrs:{label:"全部",value:-1}}),e._v(" "),n("el-option",{key:1,attrs:{label:"菜单",value:1}}),e._v(" "),n("el-option",{key:2,attrs:{label:"页面",value:2}}),e._v(" "),n("el-option",{key:3,attrs:{label:"按钮",value:3}})],1)],1),e._v(" "),n("div",{staticClass:"nav-select"},[n("div",{staticClass:"nav-select-title"},[e._v("是否显示")]),e._v(" "),n("el-select",{staticClass:"wh-select select-w-4",attrs:{placeholder:"全部"},model:{value:e.searchData.show,callback:function(t){e.$set(e.searchData,"show",t)},expression:"searchData.show"}},[n("el-option",{key:0,attrs:{label:"全部",value:-1}}),e._v(" "),n("el-option",{key:1,attrs:{label:"是",value:!0}}),e._v(" "),n("el-option",{key:2,attrs:{label:"否",value:!1}})],1)],1),e._v(" "),n("el-button",{staticClass:"search margin-t-20",attrs:{type:"primary"},on:{click:e.onSearchClick}},[e._v("查询")]),e._v(" "),e._e()],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.currentMenuList,"header-cell-style":{background:"#eef1f6",padding:"3px"},"cell-style":{padding:"3px"},"element-loading-text":"Loading",border:"",fit:"",stripe:"","highlight-current-row":""},on:{"selection-change":e.selectionChangeHandler}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"类型",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("getMenuTypeChs")(t.row.menuType)))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"上级菜单",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatZeroValue")(t.row.parent)))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"URL/事件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatZeroValue")(t.row.url)))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"是否显示",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("getTrueFalseChs")(t.row.show)))]}}])})],1),e._v(" "),n("el-row",{staticClass:"leftBtnGroup"},e._l(e.currentButton,function(t,a){return n("el-button",{key:a,staticClass:"margin-t-20",attrs:{size:"mini",type:t.type},on:{click:function(n){e.btnClickHandle(t.flag)}}},[e._v(e._s(t.name))])})),e._v(" "),n("div",{staticClass:"pagination-container text-right"},[n("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.sysMenuPager.total>0,expression:"sysMenuPager.total>0"}],attrs:{"current-page":e.sysMenuPager.skip,"page-sizes":[10,20,30,50],"page-size":e.sysMenuPager.take,total:e.sysMenuPager.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.addMenuVisible,inline:!0,title:"添加"+e.addMenuForm.addType,width:"900px"},on:{"update:visible":function(t){e.addMenuVisible=t}}},[n("el-form",{ref:"addMenuForm",staticStyle:{"max-height":"450px",overflow:"auto",width:"95%"},attrs:{model:e.addMenuForm,"label-width":"100px"}},[n("el-form-item",{staticClass:"mb7",staticStyle:{overflow:"hidden"},attrs:{label:e.addMenuForm.label}},[n("el-row",{staticClass:"mb0",attrs:{gutter:7}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{readonly:""},model:{value:e.addMenuForm.pName,callback:function(t){e.$set(e.addMenuForm,"pName",t)},expression:"addMenuForm.pName"}})],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addMenuFormRow}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.delMenuFormRow}},[e._v("删除")]),e._v(" "),n("el-checkbox",{on:{change:e.menuFormAllSelectedChange},model:{value:e.addMenuForm.allSelected,callback:function(t){e.$set(e.addMenuForm,"allSelected",t)},expression:"addMenuForm.allSelected"}},[e._v("全选")])],1)],1)],1),e._v(" "),e._l(e.addMenuForm.Rows,function(t,a){return n("el-form-item",{key:a,staticClass:"mb7",staticStyle:{overflow:"hidden"},attrs:{label:e.addMenuForm.label2}},[n("el-row",{staticClass:"mb0",attrs:{gutter:7}},[n("el-col",{attrs:{span:t.type_span}},[n("el-select",{attrs:{placeholder:"请选择",disabled:e.addMenuForm.typeDisabled},on:{change:function(n){e.menuFormTypeChange(t)}},model:{value:t.type,callback:function(n){e.$set(t,"type",n)},expression:"item.type"}},[n("el-option",{attrs:{label:"菜单",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"页面",value:"2"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:t.menu_span}},[n("el-input",{attrs:{placeholder:t.menu_tips},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),e._v(" "),n("el-col",{attrs:{span:t.page_span}},[n("el-input",{attrs:{placeholder:t.page_tips},model:{value:t.url,callback:function(n){e.$set(t,"url",n)},expression:"item.url"}})],1),e._v(" "),n("el-col",{attrs:{span:4}},[e._v("\n            是否显示：\n            "),n("el-switch",{model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"item.show"}})],1),e._v(" "),n("el-col",{attrs:{span:2}},[n("el-checkbox",{on:{change:e.menuFormSelectedChange},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"item.selected"}})],1)],1)],1)})],2),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.addMenuVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addMenuSave}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.editMenuVisible,title:"编辑",width:"470px"},on:{"update:visible":function(t){e.editMenuVisible=t},close:function(t){e.$refs.editMenuForm.resetFields()}}},[n("el-form",{ref:"editMenuForm",attrs:{rules:e.menuEditRules,model:e.editMenuForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{on:{change:e.editMenuTypeChange},model:{value:e.editMenuForm.menuType,callback:function(t){e.$set(e.editMenuForm,"menuType",t)},expression:"editMenuForm.menuType"}},[n("el-option",{attrs:{label:"菜单",value:1}}),e._v(" "),n("el-option",{attrs:{label:"页面",value:2}}),e._v(" "),n("el-option",{attrs:{label:"按钮",value:3}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"所属菜单/页面"}},[n("el-row",{staticClass:"mb0",attrs:{gutter:10}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{readonly:""},model:{value:e.editMenuForm.layer,callback:function(t){e.$set(e.editMenuForm,"layer",t)},expression:"editMenuForm.layer"}})],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.treeVisible=!0}}},[e._v("请选择")])],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{label:e.editMenuForm.nameLabel,prop:"name"}},[n("el-input",{attrs:{placeholder:e.editMenuForm.namePlaceholder},model:{value:e.editMenuForm.name,callback:function(t){e.$set(e.editMenuForm,"name",t)},expression:"editMenuForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.editMenuForm.urlLabel,prop:"url"}},[n("el-input",{attrs:{placeholder:e.editMenuForm.urlPlaceholder,disabled:e.editMenuForm.urlDisabled},model:{value:e.editMenuForm.url,callback:function(t){e.$set(e.editMenuForm,"url",t)},expression:"editMenuForm.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"是否显示",prop:"show"}},[n("el-switch",{model:{value:e.editMenuForm.show,callback:function(t){e.$set(e.editMenuForm,"show",t)},expression:"editMenuForm.show"}})],1)],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.editMenuVisible=!1,e.$refs.editMenuForm.resetFields()}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.editSysMenu}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.orderVisible,title:"排序",width:"470px"},on:{"update:visible":function(t){e.orderVisible=t}}},[n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.orderLoading,expression:"orderLoading"}],staticStyle:{"max-height":"400px",overflow:"auto"},attrs:{data:e.orderTree,"element-loading-text":"Loading",props:e.menuTreeProps,"default-expand-all":"","node-key":"nodeIndex","expand-on-click-node":!1,"highlight-current":"","default-expand-keys":e.defaultExpandIds},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,r=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",{attrs:{title:r.orderIndex}},[e._v(e._s(a.label))]),e._v(" "),n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.editMenuOrder(!0,r.id)}}},[e._v("上移")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.editMenuOrder(!1,r.id)}}},[e._v("下移")])],1)])}}])}),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.orderVisible=!1}}},[e._v("关 闭")])],1)],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.treeVisible,title:"请选择",width:"470px"},on:{"update:visible":function(t){e.treeVisible=t}}},[n("el-tree",{staticStyle:{"max-height":"400px",overflow:"auto"},attrs:{data:e.menuTree,props:e.menuTreeProps,"expand-on-click-node":!1,"highlight-current":"","default-expand-all":""},on:{"node-click":e.menuTreeClick}}),e._v(" "),n("el-row",{staticClass:"tree-tips"},[n("span",[e._v(e._s(e.selectedTreeNode.tips))])]),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.treeVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.menuTreeOkClick}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);f.options.__file="menuManage.vue";t.default=f.exports}}]);