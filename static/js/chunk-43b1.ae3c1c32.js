(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-43b1"],{"/Smc":function(n,t,e){"use strict";e("L2JU");var i=e("rY9o"),a={name:"agentDropDownList",props:["listQuery","titleName","noTitle","levelItem","agentInfo"],data:function(){return{agentList:[],agentId:""}},watch:{agentId:function(n){this.listQuery&&(this.listQuery.productAgentId=n),this.listQuery&&(this.listQuery.productAgentid=n),this.listQuery&&(this.listQuery.productAgentID=n)},"agentInfo.id":function(n){""==n&&(this.agentId=n,this.agentList=[])}},methods:{remoteMethod:function(n){var t=this;this.agentList=[],n&&Object(i.r)({nameOrMobile:n}).then(function(n){t.agentList=n.rows})},changeSelect:function(n){var t=this;this.agentList.length&&this.agentList.map(function(e){e.productAgentId==n&&t.$emit("sendAgentinfo",e)})}}},s=(e("Lf3D"),e("KHd+")),o=Object(s.a)(a,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{},[e("div",{staticClass:"nav-select height-zindex"},[n.noTitle?n._e():e("div",{staticClass:"nav-select-title"},[n._v("\n      "+n._s(n.titleName||"代理名称或手机号")+"\n    ")]),n._v(" "),e("el-select",{staticClass:"handle-select select-w-8",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"代理商名称或手机号","remote-method":n.remoteMethod,clearable:!0},on:{change:n.changeSelect},model:{value:n.agentId,callback:function(t){n.agentId=t},expression:"agentId"}},n._l(n.agentList,function(t){return e("el-option",{key:t.id,attrs:{value:t.productAgentId,label:t.name+"-"+t.mobile}},[e("span",{staticStyle:{float:"left","font-size":"12px"}},[n._v(n._s(t.name))]),n._v(" "),e("span",{staticStyle:{float:"right","font-size":"12px"}},[e("span",{staticStyle:{color:"#8492a6"}},[n._v(n._s(t.mobile))])])])}))],1)])},[],!1,null,"156ef3ef",null);o.options.__file="agentDropDownList.vue";t.a=o.exports},"1FmO":function(n,t,e){"use strict";var i=e("BOXk");e.n(i).a},"45r3":function(n,t,e){"use strict";var i=e("iUqQ");e.n(i).a},"4Vms":function(n,t,e){"use strict";var i=e("FyfS"),a=e.n(i),s=e("YEIV"),o=e.n(s),l=e("QbLZ"),r=e.n(l),c=e("L2JU"),d=e("rY9o"),h=e("X4fA"),u=e("/Smc"),g=e("Yfch"),p={name:"rightPanel",components:{agentDropDownList:u.a},props:{clickNotClose:{default:!1,type:Boolean},buttonTop:{default:250,type:Number}},data:function(){return{show:!1,theme:"#1890ff",levelList:[],load_level:!1,agentInfo:{},agentId:""}},computed:r()({},Object(c.b)(["card_info","productInfo"]),{productInfoId:function(){return this.productInfo.id}}),watch:{show:function(n){n&&!this.clickNotClose&&this.addEventClick(),n?Object(g.b)(document.body,"showRightPanel"):Object(g.D)(document.body,"showRightPanel")},productInfoId:function(n,t){t&&n!=t&&(this.agentId="",this.agentInfo={mobile:"",productAgentName:"",id:""},this.levelList=[])}},mounted:function(){},beforeDestroy:function(){this.$refs.rightPanel.remove()},methods:{addEventClick:function(){window.addEventListener("click",this.closeSidebar)},closeSidebar:function(n){n.target.closest(".rightPanel")||(this.show=!1,window.removeEventListener("click",this.closeSidebar))},insertToBody:function(){var n=this.$refs.rightPanel,t=document.querySelector("body");t.insertBefore(n,t.firstChild)},getUpAgentListFoo:function(){var n=this;this.load_level=!0,Object(d.Dd)({productAgentId:this.agentId,productId:JSON.parse(Object(h.b)()).id}).then(function(t){n.levelList=t.rows?t.rows:[],n.load_level=!1}).catch(function(t){n.load_level=!1})},selectParent:function(n){this.$emit("sendAgentId",n),this.show=!this.show},showRightPanel:function(){this.show=!this.show},sendAgentinfo:function(n){this.agentInfo={mobile:n.mobile,productAgentName:n.name,id:n.productAgentId},this.agentId=n.productAgentId,this.getUpAgentListFoo()}}},f=(e("1FmO"),e("45r3"),e("KHd+")),v=Object(f.a)(p,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{ref:"rightPanel",staticClass:"rightPanel-container",class:{show:n.show}},[e("div",{staticClass:"rightPanel-background"}),n._v(" "),e("div",{staticClass:"rightPanel"},[e("div",{staticClass:"handle-button el-button--primary",class:{agentId:"showDisabe"},on:{click:n.showRightPanel}},[e("i",{class:n.show?"el-icon-close":"el-icon-setting"})]),n._v(" "),e("div",{staticClass:"rightPanel-items margin-t-20"},[e("nav",{staticClass:"margin-b-20"},[e("div",{staticClass:"el-row"},[e("agentDropDownList",{ref:"agentDropDownList",attrs:{agentInfo:n.agentInfo},on:{sendAgentinfo:n.sendAgentinfo}})],1)]),n._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:n.load_level,expression:"load_level"}],staticClass:"text-center"},[n._l(n.levelList,function(t,i){return e("div",{key:i},[e("div",{on:{click:function(e){n.selectParent(t)}}},[e("el-tag",{staticClass:"add-more",attrs:{type:"info"}},[n._v(n._s(i+1)+"-"+n._s(t.productAgentName)+"-"+n._s(t.mobile))])],1),n._v(" "),e("div",{staticStyle:{"font-size":"18px",margin:"5px",color:"#909399"}},[n._v("|")])])}),n._v(" "),n.agentInfo.id?e("div",{on:{click:function(t){n.selectParent(n.agentInfo)}}},[e("el-tag",{staticClass:"add-more"},[n._v(n._s(n.levelList.length+1)+"-"+n._s(n.agentInfo&&n.agentInfo.productAgentName)+"-"+n._s(n.agentInfo&&n.agentInfo.mobile))])],1):n._e()],2)])])])},[],!1,null,"8e7710b0",null);v.options.__file="index.vue";var b,m={components:{RightPanel:v.exports},props:["productArr","tag","listQuery","levelItem","checkAgent","agentId"],data:function(){return{productAgentidArr:[],agentFindType:"1"==this.checkAgent?0:3,productAgentId:"",disabled:!0,newList:[],agentList:{list:[]},curAgent:{value:""},flag:"",showSettings:!0}},computed:r()({},Object(c.b)(["productInfo"])),watch:(b={productInfo:function(n,t){n.id!=t.id&&t.id&&(this.agentList.list=[],this.productAgentidArr=[],this.handleChange([]),this.pageLoad(1))},agentId:function(n){this.productAgentId=n},agentFindType:function(n){this.pageLoad()},productAgentId:function(n){n||(this.curAgent.value=""),""!=n?this.disabled=!1:"1"==this.checkAgent?(this.getAgentList(),this.agentFindType=0,this.disabled=!0):(this.getAgentList(),this.agentFindType=3,this.disabled=!0),this.pageLoad()}},o()(b,"listQuery.agentFindType",function(n){""!=n&&(this.disabled=!1,this.listQuery.agentFindType=n)}),o()(b,"listQuery.agentMobile",function(n){""!=n?(this.disabled=!1,this.listQuery.agentMobile=n):(this.agentFindType=3,this.disabled=!0)}),o()(b,"levelItem.id",function(n){n&&this.beforeFilterDepartment(n)}),o()(b,"curAgent.value",function(n,t){var e=this;(this.curAgent.children||"line"==this.flag)&&n&&Object(d.G)({productID:JSON.parse(Object(h.b)()).id,showType:2,productAgentId:this.productAgentId}).then(function(n){if(n.rows&&0!=n.rows.length){for(var t=0;t<n.rows.length;t++)n.rows[t].children&&0==n.rows[t].children.length?delete n.rows[t].children:n.rows[t].children||(n.rows[t].children=[]);e.curAgent.children=n.rows}}).catch(function(n){})}),b),mounted:function(){var n=this;this.$nextTick(function(){n.$route.query.agentId&&n.beforeFilterDepartment(n.$route.query.agentId),n.$route.query.agentFindType&&(n.agentFindType=n.$route.query.agentFindType-0),n.pageLoad()})},methods:{sendAgentId:function(n){var t=this;this.beforeFilterDepartment(n.id),setTimeout(function(e){t.productAgentId=n.id},100)},selectAgent:function(n){!n.length&&this.getAgentList()},beforeFilterDepartment:function(n){var t=this;n!=this.curAgent.value&&this.$store.dispatch("reqUrl_SysData",{reqName:d.s,data:{nameOrMobile:"",productAgentId:n}}).then(function(e){t.agentList.list=e.rows,t.productAgentidArr=t.sortArr(t.getAllChild(n)),t.productAgentId=n,t.productAgentidArr&&0!=t.productAgentidArr.length&&t.handleChange(t.productAgentidArr,"line")}).catch(function(n){})},getCascaderObj:function(n,t){return n.map(function(n,e,i){var s=!0,o=!1,l=void 0;try{for(var r,c=a()(t);!(s=(r=c.next()).done);s=!0){var d=r.value;if(d.value==n)return t=d.children,d}}catch(n){o=!0,l=n}finally{try{!s&&c.return&&c.return()}finally{if(o)throw l}}return null})},handleChange:function(n,t){this.flag=t,this.levelItem&&this.levelItem.id&&(this.levelItem.id=""),this.productAgentId=n[n.length-1]||"";""!=n?this.disabled=!1:"1"==this.checkAgent?(this.agentFindType=0,this.disabled=!0):(this.agentFindType=3,this.disabled=!0),n&&n.length&&(this.curAgent=this.getCascaderObj(n,this.agentList.list)[this.getCascaderObj(n,this.agentList.list).length-1])},pageLoad:function(n){this.$emit("selectAgentFun",this.productAgentId,this.agentFindType,n,this.productAgentidArr)},getAgentList:function(){var n=this;this.$store.dispatch("reqUrl_SysData",{reqName:d.Bc,data:{productID:JSON.parse(Object(h.b)()).id,showType:0,productAgentId:this.productAgentId}}).then(function(t){n.agentList.list=t.rows,function n(t){t.find(function(t){t.children&&t.children.length?n(t.children):delete t.children})}(n.agentList.list)})}}},y=(e("cSJM"),Object(f.a)(m,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[n.showSettings?e("right-panel",{on:{sendAgentId:n.sendAgentId}}):n._e(),n._v(" "),e("div",{staticClass:"nav-select",on:{mouseenter:function(t){n.selectAgent(n.agentList.list||[])}}},[e("div",{staticClass:"nav-select-title"},[n._v("代理商")]),n._v(" "),e("el-cascader",{staticClass:"handle-select select-w-6",attrs:{options:n.agentList&&n.agentList.list||[],placeholder:"请选择代理商",clearable:!0,filterable:"","show-all-levels":!1,"change-on-select":""},on:{change:n.handleChange},model:{value:n.productAgentidArr,callback:function(t){n.productAgentidArr=t},expression:"productAgentidArr"}}),n._v(" "),n.tag||"1"==n.checkAgent?n._e():e("el-select",{staticClass:"handle-select select-w-3",attrs:{placeholder:"全部",disabled:n.disabled},model:{value:n.agentFindType,callback:function(t){n.agentFindType=t},expression:"agentFindType"}},[e("el-option",{key:3,attrs:{label:"全部",value:3}}),n._v(" "),e("el-option",{key:2,attrs:{label:"代理",value:2}}),n._v(" "),e("el-option",{key:1,attrs:{label:"直销",value:1}})],1),n._v(" "),"1"==n.checkAgent?e("el-select",{staticClass:"handle-select select-w-3",attrs:{placeholder:"全部",disabled:n.disabled},model:{value:n.agentFindType,callback:function(t){n.agentFindType=t},expression:"agentFindType"}},[e("el-option",{key:"0",attrs:{label:"全部",value:0}}),n._v(" "),e("el-option",{key:"1",attrs:{label:"代理商",value:1}}),n._v(" "),e("el-option",{key:"2",attrs:{label:"业务员",value:2}})],1):n._e(),n._v(" "),2===n.tag?e("el-select",{staticClass:"handle-select select-w-4",attrs:{placeholder:"全部",disabled:n.disabled},model:{value:n.agentFindType,callback:function(t){n.agentFindType=t},expression:"agentFindType"}},[e("el-option",{key:3,attrs:{label:"全部",value:3}}),n._v(" "),e("el-option",{key:1,attrs:{label:"直销",value:1}}),n._v(" "),e("el-option",{key:2,attrs:{label:"下一级代理",value:2}}),n._v(" "),e("el-option",{key:4,attrs:{label:"直销和代理",value:4}})],1):n._e(),n._v(" "),3===n.tag?e("el-select",{staticClass:"handle-select select-w-4",attrs:{placeholder:"全部",disabled:n.disabled},model:{value:n.agentFindType,callback:function(t){n.agentFindType=t},expression:"agentFindType"}},[e("el-option",{key:3,attrs:{label:"全部",value:3}}),n._v(" "),e("el-option",{key:1,attrs:{label:"直销",value:1}}),n._v(" "),e("el-option",{key:2,attrs:{label:"下一级代理",value:2}})],1):n._e()],1)],1)},[],!1,null,"540e2152",null));y.options.__file="agentBox.vue";t.a=y.exports},BOXk:function(n,t,e){var i=e("JNP6");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("SZ7m").default)("b4acb062",i,!0,{})},BSAy:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},JNP6:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.showRightPanel {\n  overflow: hidden;\n  position: relative;\n  width: calc(100% - 15px);\n}\n.showDisabe {\n  cursor: not-allowed;\n}\n",""])},Lf3D:function(n,t,e){"use strict";var i=e("ezwO");e.n(i).a},cSJM:function(n,t,e){"use strict";var i=e("cnL3");e.n(i).a},cnL3:function(n,t,e){var i=e("BSAy");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("SZ7m").default)("1c41fcfa",i,!0,{})},ezwO:function(n,t,e){var i=e("gW1j");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("SZ7m").default)("08c67dc0",i,!0,{})},gW1j:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},iUqQ:function(n,t,e){var i=e("yFN6");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("SZ7m").default)("1d814454",i,!0,{})},yFN6:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.rightPanel-background[data-v-8e7710b0] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s cubic-bezier(0.7, 0.3, 0.1, 1);\n  transition: opacity 0.3s cubic-bezier(0.7, 0.3, 0.1, 1);\n  background: rgba(0, 0, 0, 0.2);\n  z-index: -1;\n}\n.rightPanel[data-v-8e7710b0] {\n  width: 100%;\n  max-width: 360px;\n  height: 100vh;\n  position: fixed;\n  top: 60px;\n  right: 0;\n  -webkit-box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.05);\n          box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.05);\n  -webkit-transition: all 0.25s cubic-bezier(0.7, 0.3, 0.1, 1);\n  transition: all 0.25s cubic-bezier(0.7, 0.3, 0.1, 1);\n  -webkit-transform: translate(100%);\n          transform: translate(100%);\n  background: #fff;\n  z-index: 2000;\n  padding-left: 20px;\n}\n.rightPanel-items[data-v-8e7710b0] {\n  height: 90vh;\n  overflow-y: auto;\n}\n.show[data-v-8e7710b0] {\n  -webkit-transition: all 0.3s cubic-bezier(0.7, 0.3, 0.1, 1);\n  transition: all 0.3s cubic-bezier(0.7, 0.3, 0.1, 1);\n}\n.show .rightPanel-background[data-v-8e7710b0] {\n    z-index: 1000;\n    opacity: 1;\n    width: 100%;\n    height: 100%;\n}\n.show .rightPanel[data-v-8e7710b0] {\n    -webkit-transform: translate(0);\n            transform: translate(0);\n}\n.handle-button[data-v-8e7710b0] {\n  top: 100px;\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  left: -30px;\n  text-align: center;\n  font-size: 20px;\n  border-radius: 6px 0 0 6px !important;\n  z-index: 0;\n  pointer-events: auto;\n  cursor: pointer;\n  color: #fff;\n  line-height: 30px;\n}\n.handle-button i[data-v-8e7710b0] {\n    font-size: 20px;\n    line-height: 30px;\n}\n",""])}}]);