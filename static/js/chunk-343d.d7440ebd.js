(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-343d"],{1:function(e,t){},2:function(e,t){},3:function(e,t){},Gh03:function(e,t,a){"use strict";a.d(t,"n",function(){return r}),a.d(t,"j",function(){return s}),a.d(t,"l",function(){return n}),a.d(t,"i",function(){return l}),a.d(t,"e",function(){return o}),a.d(t,"a",function(){return d}),a.d(t,"b",function(){return c}),a.d(t,"c",function(){return u}),a.d(t,"f",function(){return p}),a.d(t,"h",function(){return m}),a.d(t,"m",function(){return h}),a.d(t,"o",function(){return f}),a.d(t,"g",function(){return b}),a.d(t,"d",function(){return g}),a.d(t,"k",function(){return v});var i=a("t3Un");function r(e){return Object(i.a)({url:"/api/Terminal/getSysDeviceOrderList",method:"post",data:e})}function s(e){return Object(i.a)({url:"/api/Terminal/deliverSysDevice",method:"post",data:e})}function n(e){return Object(i.a)({url:"/api/Terminal/deliverSysDeviceUser",method:"post",data:e})}function l(e){return Object(i.a)({url:"/api/Terminal/UpdateOrderStatus",method:"post",data:e})}function o(e){return Object(i.a)({url:"/api/Terminal/GetBindTerminalList",method:"post",data:e})}function d(e){return 1==e.type?Object(i.a)({url:"/api/Terminal/AddPayTag",method:"post",data:e}):Object(i.a)({url:"/api/Terminal/AddPayTag",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function c(e){return Object(i.a)({url:"/api/Terminal/AddPayTagMore",method:"post",data:e})}function u(e){return Object(i.a)({url:"/api/Terminal/AllocatePayTag",method:"post",data:e})}function p(e){return Object(i.a)({url:"/api/Terminal/GetPayTags",method:"post",data:e})}function m(e){return Object(i.a)({url:"/api/Terminal/RecoveryPayTags",method:"post",data:e})}function h(e){return Object(i.a)({url:"/api/Terminal/getDeductionMoneyPlanList",method:"post",data:e})}function f(e){return Object(i.a)({url:"/api/Terminal/updateExeDate",method:"post",data:e})}function b(e){return Object(i.a)({url:"/api/Terminal/PayTagRecording",method:"post",data:e})}function g(e){return Object(i.a)({url:"/api/Terminal/CopyPosManufacturerModel",method:"post",data:e})}function v(e){return Object(i.a)({url:"/api/Terminal/deliverSysDeviceTag",method:"post",data:e})}},N5aa:function(e,t,a){"use strict";var i=a("4d7F"),r=a.n(i),s=a("EUZL"),n=a.n(s),l={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("仅支持上传 .xlsx, .xls, .csv 文件"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("只能上传一个文件!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){document.getElementById("excel-upload-input").click()},handleClick:function(e){var t=e.target.files[0];t&&this.upload(t)},upload:function(e){(this.$refs["excel-upload-input"].value=null,this.beforeUpload)?this.beforeUpload(e)&&this.readerData(e):this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new r.a(function(a,i){var r=new FileReader;r.onload=function(e){var i=e.target.result,r=t.fixData(i),s=n.a.read(btoa(r),{type:"base64"}),l=s.SheetNames[0],o=s.Sheets[l],d=t.getHeaderRow(o),c=n.a.utils.sheet_to_json(o);t.generateData({header:d,results:c}),t.loading=!1,a()},r.readAsArrayBuffer(e)})},fixData:function(e){for(var t="",a=0,i=10240;a<e.byteLength/i;++a)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*i,a*i+i)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*i)))},getHeaderRow:function(e){var t=[],a=n.a.utils.decode_range(e["!ref"]),i=void 0,r=a.s.r;for(i=a.s.c;i<=a.e.c;++i){var s=e[n.a.utils.encode_cell({c:i,r:r})],l="UNKNOWN "+i;s&&s.t&&(l=n.a.utils.format_cell(s)),t.push(l)}return t},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},o=(a("SlTs"),a("KHd+")),d=Object(o.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",attrs:{id:"excel-upload-input",type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),e._v(" "),a("div",{attrs:{id:"drop"},on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v("\n    Drop excel file here or\n    "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v("上传文件")])],1)])},[],!1,null,"26075438",null);d.options.__file="index.vue";t.a=d.exports},PkhV:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n#excel-upload-input[data-v-26075438]{\n  display: none;\n  z-index: -9999;\n}\n#drop[data-v-26075438]{\n  border: 2px dashed #bbb;\n  /*width: 300px;*/\n  height: 160px;\n  line-height: 160px;\n  margin: 0 auto;\n  font-size: 24px;\n  border-radius: 5px;\n  text-align: center;\n  color: #bbb;\n  position: relative;\n}\n",""])},RQWr:function(e,t,a){var i=a("snek");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("SZ7m").default)("28ef560a",i,!0,{})},"RU/L":function(e,t,a){a("Rqdy");var i=a("WEpk").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},Rqdy:function(e,t,a){var i=a("Y7ZC");i(i.S+i.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(e,t,a){e.exports={default:a("RU/L"),__esModule:!0}},SlTs:function(e,t,a){"use strict";var i=a("lJhe");a.n(i).a},TAUD:function(e,t,a){var i=a("j9RI");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("SZ7m").default)("235520ac",i,!0,{})},YEIV:function(e,t,a){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(a("SEkw"));t.default=function(e,t,a){return t in e?(0,i.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},"YK8+":function(e,t,a){"use strict";a.r(t);var i,r=a("14Xm"),s=a.n(r),n=a("D3Ub"),l=a.n(n),o=a("YEIV"),d=a.n(o),c=a("QbLZ"),u=a.n(c),p=a("L2JU"),m=a("rY9o"),h=a("Gh03"),f=a("X4fA"),b=a("7Qib"),g=(a("Yfch"),a("6Uqi")),v=a("N5aa"),y=a("4Vms"),D=a("YZgg"),x=a("caUn"),F={name:"terminalOrder",components:{PageTable:g.a,UploadExcelComponent:v.a,agentBox:y.a,filterBox:D.a,timeBox:x.a},data:function(){return{tableList:[{label:"商户名称",name:"userName",width:"100px",checked:!0},{label:"手机号",name:"mobile",width:"130px",checked:!0},{label:"收货人姓名",name:"conSignee",width:"140px",checked:!0},{label:"收货人手机号",name:"conSigneeMobile",width:"130px",checked:!0},{type:"popover",label:"收货地址",name:"addressInfo",width:"140px",checked:!0},{label:"所属代理商名称",name:"productAgentName",width:"160px",checked:!0},{label:"一级代理商名称",name:"topAgentName",width:"160px",checked:!0},{label:"终端序列号",name:"sn",width:"160px",checked:!1},{label:"终端类型",name:"terminal",width:"140px",checked:!1},{label:"绑定状态",name:"bindingName",width:"140px",checked:!1},{label:"订单号",name:"payOrderId",width:"180px",checked:!0},{type:"stateMuch",label:"订单状态",name:"status",width:"130px",checked:!0,stateMuch:{0:"待付款",1:"待发货",2:"已发货",3:"已收货",10:"付款失败"}},{type:"stateMuch",label:"是否为有效订单",name:"orderStatus",width:"130px",checked:!0,stateMuch:{0:"否",1:"是"}},{label:"订单时间",name:"insertDate",width:"160px",checked:!0},{label:"发货时间",name:"deliveryTime",width:"160px",checked:!0},{label:"快递单号",name:"expressNo",width:"160px",checked:!1},{label:"快递公司",name:"expressCompany",width:"160px",checked:!1},{label:"收货时间",name:"receivingTime",width:"160px",checked:!1},{label:"操作人",name:"deliveryUserName",width:"160px",checked:!1},{type:"popover",label:"说明信息",name:"content",width:"160px",checked:!0}],tableData:{list:[],loading:!1,pageNum:1,pageSize:10,total:0},listQuery:{agentFindType:3,agentMobile:"",endDate:"",isagent:0,pageNum:1,pageSize:10,payOrderId:"",productAgentId:"",startDate:"",status:1,consignee:"",consigneeMobile:"",addressInfo:"",userId:"",orderStatus:1},detailStatus:"",startDate:new Date((new Date).setFullYear((new Date).getFullYear()-3)),endDate:new Date,btnLoading:!1,formLoading:!1,editFormVisible:!1,batchFormVisible:!1,detailFormVisible:!1,updateFormVisible:!1,filterVisible:!1,selectedData:[],currentButton:[],productAgentidArr:[],batchOrderList:[],companyList:[],userType:null,tip:"填写可递增填充快递单号",tipsn:"填写可递增填充终端序列号",time_option:[{text:"订单时间",value:0}],editForm:{userName:"",userMobile:"",receiveUserAddress:"",payOrderId:"",terminalType:1,terminal:"",expressNo:"",expressCompany:"",content:""},editRules:{terminal:{required:!0,message:"请输入终端序列号",trigger:"blur"},expressNo:{required:!0,validator:this.validatorExpressNo,trigger:"blur"},expressCompany:{required:!0,message:"请选择快递公司",trigger:"blur"}},batchForm:{contents:"",expressCompany:"",startNumber:"",startTeminal:"",payOrderNum:[{sysDeviceOrderId:"",expressNo:"",order:0,sn:""}]},batchRules:{expressCompany:{required:!0,message:"请输入快递公司",trigger:"change"}},updateForm:{payOrderId:"",terminal:""},updateRules:{terminal:{required:!0,message:"请输入终端序列号",trigger:"blur"}},detailForm:{agentName:"",content:"",deliveryDate:"",expressCompany:"",expressNo:"",operateUserName:"",orderDate:"",payOrderId:0,receiveUserAddress:"",receiveUserMobile:"",receiveUserName:"",receivingDate:"",status:0,terminal:"",terminalModel:"",topAgentName:"",userMobile:"",userName:""}}},computed:u()({},Object(p.b)(["productInfo"])),watch:(i={},d()(i,"batchForm.startNumber",function(e,t){this.batchForm.payOrderNum.map(function(e){e.expressNo=""});if(""!=e)if(/^[0-9a-zA-Z]+$/.test(e))if(new RegExp("\\d").test(e)){var a=e.match(/\d+/g),i=e.indexOf(a[a.length-1]),r=a[a.length-1],s=e.substring(0,i);this.batchForm.payOrderNum.map(function(e,t){var a=String(Number(r)+t);a="0".repeat(r.length-a.length<0?0:r.length-a.length)+a,e.expressNo=s+a})}else this.batchForm.payOrderNum.map(function(t,a){t.expressNo=e});else this.tip="格式不正确，请输入数字或字母";else this.tip="填写可递增填充快递单号"}),d()(i,"batchForm.startTeminal",function(e,t){this.batchForm.payOrderNum.map(function(e){e.sn=""});if(""!=e)if(/^[0-9a-zA-Z]+$/.test(e))if(new RegExp("\\d").test(e)){var a=e.match(/\d+/g),i=e.indexOf(a[a.length-1]),r=a[a.length-1],s=e.substring(0,i);this.batchForm.payOrderNum.map(function(e,t){var a=String(Number(r)+t);a="0".repeat(r.length-a.length<0?0:r.length-a.length)+a,e.sn=s+a})}else this.batchForm.payOrderNum.map(function(t,a){t.sn=e});else this.tipsn="格式不正确，请输入数字或字母";else this.tipsn="填写可递增填充终端序列号"}),i),mounted:function(){var e=this;this.$nextTick(function(){return e.mountedInit()})},methods:{selectAgentFun:function(e,t,a){this.listQuery.productAgentId=e,this.listQuery.agentFindType=t,1===a&&this.searchData()},mountedInit:function(){this.userType=Object(f.f)(),this.setProductID(),this.getPageData()},setProductID:function(){this.listQuery.productId=JSON.parse(Object(f.b)()).id},getPageData:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=null,e.tableData.loading=!0,t.next=4,Object(b.e)();case 4:return a=t.sent,e.currentButton=a,e.listQuery.startDate=Object(b.g)(e.startDate||new Date((new Date).setDate((new Date).getDate()-7)))+" 00:00:00",e.listQuery.endDate=Object(b.g)(e.endDate||new Date)+" 23:59:59",t.next=10,Object(h.n)(e.listQuery);case 10:a=t.sent,e.tableData.list=a.rows,e.tableData.total=a.total,e.tableData.loading=!1;case 14:case"end":return t.stop()}},t,e)}))()},getOrderListData:function(){var e=this;this.tableData.loading=!0,Object(h.n)(this.listQuery).then(function(t){e.tableData.list=t.rows,e.tableData.total=t.total,e.tableData.loading=!1}).catch(function(){return e.tableData.loading=!1})},getDialogPdata:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.formLoading=!0,a=null,t.next=4,Object(m.Nc)({});case 4:a=t.sent,e.companyList=a.rows,e.formLoading=!1;case 7:case"end":return t.stop()}},t,e)}))()},searchData:function(){this.listQuery.pageNum=1,this.listQuery.pageSize=10,this.tableData.pageNum=1,this.tableData.pageSize=10,this.getPageData()},handleSelectionChange:function(e){this.selectedData=e},handleSizeChange:function(e){this.listQuery.pageNum=1,this.listQuery.pageSize=e,this.tableData.pageNum=1,this.tableData.pageSize=e,this.getOrderListData()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.tableData.pageNum=e,this.getOrderListData()},clickedSaleNameHandle:function(e){e.saleName&&this.pushPage("agentManage/salesPerformance",{saleid:e.saleId,salename:e.saleName})},editFormSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var a={content:e.editForm.content,expressCompany:e.editForm.expressCompany,expressNo:e.editForm.expressNo,payOrderId:e.editForm.payOrderId,receiveUserAddress:e.editForm.receiveUserAddress,terminal:e.editForm.terminal,userMobile:e.editForm.userMobile,userName:e.editForm.userName};e.btnLoading=!0,Object(h.l)(a).then(function(t){e.btnLoading=!1,e.$message.success(t.msg),e.editFormVisible=!1,e.getOrderListData()}).catch(function(t){e.btnLoading=!1})}})},updateFormSubmit:function(){var e=this;this.$refs.updateForm.validate(function(t){if(t){var a={payOrderId:e.updateForm.payOrderId,terminal:e.updateForm.terminal};e.btnLoading=!0,Object(m.le)(a).then(function(t){e.btnLoading=!1,e.$message.success(t.msg),e.updateFormVisible=!1,e.getOrderListData()}).catch(function(t){e.btnLoading=!1})}})},batchFormSubmit:function(){var e=this;this.$refs.batchForm.validate(function(t){if(t){for(var a in e.batchForm.payOrderNum){if(""==e.batchForm.payOrderNum[a].sn)return void e.$message.warning("终端号不能为空");if(""==e.batchForm.payOrderNum[a].expressNo)return void e.$message.warning("快递单号不能为空")}e.btnLoading=!0,Object(h.l)(e.batchForm).then(function(t){e.btnLoading=!1,e.$message.success(t.msg),e.batchFormVisible=!1,e.getOrderListData()}).catch(function(t){e.btnLoading=!1})}})},openEditDialog:function(){var e=this;this.$nextTick(function(){return e.getDialogPdata()})},closeEditDialog:function(){var e=this;setTimeout(function(){return e.$refs.editForm.resetFields()},300),this.editForm.content=""},openUpdateDialog:function(){this.updateForm.terminal=this.selectedData[0].terminal},closeUpdateDialog:function(){var e=this;setTimeout(function(){return e.$refs.updateForm.resetFields()},300)},openBatchDialog:function(){var e=this;this.$nextTick(function(){return e.getDialogPdata()})},closeBatchDialog:function(){var e=this;setTimeout(function(){return e.$refs.batchForm.resetFields()},300),this.batchForm.startNumber="",this.batchForm.contents="",this.batchForm.startTeminal=""},isNull:function(e){return 0===e.length?(this.$message.warning("没有选中任何数据"),!1):!(e.length>1)||(this.$message.warning("请选择一条数据"),!1)},isOkData:function(e){return!e.filter(function(e){return 1!==e.status||1!==e.orderStatus}).length||(this.$message.warning("只有待发货且为有效订单才可以发货"),!1)},isHavTerminal:function(e){return!!e[0].sn||(this.$message.warning("无法修改当前记录的终端序列号"),!1)},inputFee:function(e,t){var a=this;"sn"!=t&&"expressNo"!=t||(e[t]=e[t].replace(/[\W]/g,"")),e[t]=e[t]+"9",this.$forceUpdate(),setTimeout(function(){e[t]=e[t].slice(0,e[t].length-1),a.$forceUpdate()},16)},detailClickHandle:function(){this.isNull(this.selectedData)&&(this.detailFormVisible=!0,this.detailForm=this.copy_obj(this.selectedData[0]),0==this.detailForm.status?this.detailStatus="待付款":1==this.detailForm.status?this.detailStatus="待发货":2==this.detailForm.status?this.detailStatus="已发货":this.detailStatus="已收货")},deliveryClickHandle:function(){if(this.isNull(this.selectedData)&&this.isOkData(this.selectedData)){this.editForm.userName=this.selectedData[0].userName,this.editForm.userMobile=this.selectedData[0].mobile,this.editForm.receiveUserAddress=this.selectedData[0].addressInfo,this.editForm.payOrderId=this.selectedData[0].payOrderId;var e="--";switch(this.selectedData[0].terminalType){case"1":e="无线POS机";break;case"2":e="扫码盒";break;case"3":e="二维码"}this.editForm.terminalType=e,this.editFormVisible=!0}},updateClickHandle:function(){this.isNull(this.selectedData)&&this.isHavTerminal(this.selectedData)&&(this.updateForm.payOrderId=this.selectedData[0].payOrderId,this.updateFormVisible=!0)},updateTimeValue:function(e,t,a){this.startDate=t,this.endDate=a},batchOrderClickHandle:function(){if(this.selectedData.length>=1){if(this.isOkData(this.selectedData)){this.batchFormVisible=!0;var e=[],t={};this.batchOrderList=this.selectedData,this.batchOrderList.find(function(a){(t={}).receiveUserName=a.conSignee,t.receiveUserMobile=a.conSigneeMobile,t.userNreceiveUserAddressame=a.addressInfo,t.expressNo="",t.order=a.payOrderId,t.sysDeviceOrderId=a.id,t.sn="",e.push(t)}),this.batchForm.payOrderNum=e}}else this.$message.warning("请至少选择一条数据")},selectUserId:function(e){this.listQuery.userId=e},changeSearchStatus:function(e){10==e&&(this.listQuery.orderStatus=-1)},validatorExpressNo:function(e,t,a){return t?/^[0-9a-zA-Z]+$/.test(t)?a():a(new Error("快递单号格式不正确")):a(new Error("请输入快递单号"))},btnClickHandle:function(e){var t=this;switch(e){case"detail":this.detailClickHandle();break;case"delivery":this.batchOrderClickHandle();break;case"update":this.updateClickHandle();break;case"batchOrder":this.batchOrderClickHandle();break;case"update_status":this.isNull(this.selectedData)&&(1===this.selectedData[0].orderStatus?this.$confirm("确定将有效订单更改成无效订单？").then(function(e){Object(h.i)({id:t.selectedData[0].id}).then(function(e){t.$message.success(e.msg),t.getOrderListData()})}):this.$message.warning("只有有效的订单才可以更改"));break;case"export":this.getCheckData("终端发货订单",this.selectedData,this.tableList)}}}},_=(a("p/Zz"),a("KHd+")),w=Object(_.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("nav",[a("el-row",[a("agentBox",{on:{selectAgentFun:e.selectAgentFun}}),e._v(" "),a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title"},[e._v("订单状态")]),e._v(" "),a("el-select",{staticClass:"handle-select select-w-4",attrs:{placeholder:"请选择"},on:{change:e.changeSearchStatus},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},[a("el-option",{attrs:{label:"全部",value:-1}}),e._v(" "),a("el-option",{attrs:{label:"待付款",value:0}}),e._v(" "),a("el-option",{attrs:{label:"待发货",value:1}}),e._v(" "),a("el-option",{attrs:{label:"已发货",value:2}}),e._v(" "),a("el-option",{attrs:{label:"已收货",value:3}}),e._v(" "),a("el-option",{attrs:{label:"付款失败",value:10}})],1)],1),e._v(" "),a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title"},[e._v("是否为有效订单")]),e._v(" "),a("el-select",{staticClass:"handle-select select-w-4",attrs:{placeholder:"请选择"},model:{value:e.listQuery.orderStatus,callback:function(t){e.$set(e.listQuery,"orderStatus",t)},expression:"listQuery.orderStatus"}},[a("el-option",{attrs:{label:"全部",value:-1}}),e._v(" "),a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-input",{staticClass:"nav-input font-w-6",attrs:{clearable:!0,placeholder:"请输入订单号"},model:{value:e.listQuery.payOrderId,callback:function(t){e.$set(e.listQuery,"payOrderId","string"==typeof t?t.trim():t)},expression:"listQuery.payOrderId"}},[a("template",{slot:"prepend"},[e._v("订单号")])],2),e._v(" "),a("filterBox",{attrs:{listQuery:e.listQuery},on:{selectUserId:e.selectUserId}}),e._v(" "),a("timeBox",{attrs:{page:"terminalOrder",timeOption:e.time_option},on:{updateTimeValue:e.updateTimeValue}}),e._v(" "),e.filterVisible?a("el-input",{staticClass:"nav-input font-w-5",attrs:{placeholder:"请输入收货人姓名",clearable:!0},model:{value:e.listQuery.consignee,callback:function(t){e.$set(e.listQuery,"consignee",t)},expression:"listQuery.consignee"}},[a("template",{slot:"prepend"},[e._v("收货人姓名")])],2):e._e(),e._v(" "),e.filterVisible?a("el-input",{staticClass:"nav-input font-w-5",attrs:{placeholder:"请输入收货人手机号"},model:{value:e.listQuery.consigneeMobile,callback:function(t){e.$set(e.listQuery,"consigneeMobile","string"==typeof t?t.trim():t)},expression:"listQuery.consigneeMobile"}},[a("template",{slot:"prepend"},[e._v("收货人手机号")])],2):e._e(),e._v(" "),e.filterVisible?a("el-input",{staticClass:"nav-input font-w-5",attrs:{placeholder:"请输入收货地址",clearable:!0},model:{value:e.listQuery.addressInfo,callback:function(t){e.$set(e.listQuery,"addressInfo","string"==typeof t?t.trim():t)},expression:"listQuery.addressInfo"}},[a("template",{slot:"prepend"},[e._v("收货地址")])],2):e._e(),e._v(" "),a("el-button",{staticClass:"search margin-t-20",attrs:{type:"primary"},on:{click:e.searchData}},[e._v("查询")]),e._v(" "),a("div",{staticClass:"nav_screen",on:{click:function(t){e.filterVisible=!e.filterVisible}}},[e._v("\n        高级\n        "),a("i",{staticClass:"icon",class:e.filterVisible?"el-icon-caret-top":"el-icon-caret-bottom"})])],1)],1),e._v(" "),a("PageTable",{attrs:{indexID:!0,noIndex:!0,tableList:e.tableList,tableData:e.tableData,currentButton:e.currentButton},on:{handleSelectionChange:e.handleSelectionChange,sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange,btnClickHandle:e.btnClickHandle,clickedSaleName:e.clickedSaleNameHandle}}),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.editFormVisible,title:"终端发货",width:"850px"},on:{"update:visible":function(t){e.editFormVisible=t},open:e.openEditDialog,close:e.closeEditDialog}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"editForm",attrs:{rules:e.editRules,model:e.editForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{type:"text",disabled:!0},model:{value:e.editForm.userName,callback:function(t){e.$set(e.editForm,"userName",t)},expression:"editForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{type:"text",disabled:!0},model:{value:e.editForm.userMobile,callback:function(t){e.$set(e.editForm,"userMobile",t)},expression:"editForm.userMobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{type:"text",disabled:!0},model:{value:e.editForm.payOrderId,callback:function(t){e.$set(e.editForm,"payOrderId",t)},expression:"editForm.payOrderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"终端类型"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{type:"text",disabled:!0},model:{value:e.editForm.terminalType,callback:function(t){e.$set(e.editForm,"terminalType","string"==typeof t?t.trim():t)},expression:"editForm.terminalType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货地址"}},[a("el-input",{attrs:{type:"textarea",rows:3,resize:"none",clearable:!0,disabled:!0},model:{value:e.editForm.receiveUserAddress,callback:function(t){e.$set(e.editForm,"receiveUserAddress",t)},expression:"editForm.receiveUserAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"快递单号",prop:"expressNo"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{type:"text",placeholder:"请输入快递单号",clearable:!0},model:{value:e.editForm.expressNo,callback:function(t){e.$set(e.editForm,"expressNo","string"==typeof t?t.trim():t)},expression:"editForm.expressNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"快递公司",prop:"expressCompany"}},[a("el-select",{staticClass:"w-199 m-r-5",attrs:{placeholder:"请选择快递公司",clearable:!0,filterable:""},model:{value:e.editForm.expressCompany,callback:function(t){e.$set(e.editForm,"expressCompany","string"==typeof t?t.trim():t)},expression:"editForm.expressCompany"}},e._l(e.companyList,function(e,t){return a("el-option",{key:t,attrs:{value:e,label:e}})}))],1),e._v(" "),a("el-form-item",{staticClass:"w-73",attrs:{label:"说明信息"}},[a("el-input",{staticClass:"w-73",attrs:{placeholder:"请输入说明信息",type:"textarea",rows:3,resize:"none"},model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content","string"==typeof t?t.trim():t)},expression:"editForm.content"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editFormVisible=!1}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.editFormSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.batchFormVisible,title:"发货",width:"850px"},on:{"update:visible":function(t){e.batchFormVisible=t},open:e.openBatchDialog,close:e.closeBatchDialog}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"batchForm",staticClass:"batch_form",attrs:{rules:e.batchRules,model:e.batchForm,"label-width":"120px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"快递公司",prop:"expressCompany"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:!0,filterable:""},model:{value:e.batchForm.expressCompany,callback:function(t){e.$set(e.batchForm,"expressCompany",t)},expression:"batchForm.expressCompany"}},e._l(e.companyList,function(e,t){return a("el-option",{key:t,attrs:{value:e,label:e}})}))],1)],1)],1),e._v(" "),e.selectedData.length>1?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"起始终端序列号"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入终端序列号",clearable:!0},model:{value:e.batchForm.startTeminal,callback:function(t){e.$set(e.batchForm,"startTeminal","string"==typeof t?t.trim():t)},expression:"batchForm.startTeminal"}}),e._v(" "),a("span",{staticClass:"blue"},[e._v(e._s(e.tipsn))])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"起始快递单号"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入快递单号",clearable:!0},model:{value:e.batchForm.startNumber,callback:function(t){e.$set(e.batchForm,"startNumber","string"==typeof t?t.trim():t)},expression:"batchForm.startNumber"}}),e._v(" "),a("span",{staticClass:"blue"},[e._v(e._s(e.tip))])],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"订单列表"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"tipText"},[e._v("*")]),e._v(" 订单列表\n        ")]),e._v(" "),a("el-table",{staticClass:"batch",attrs:{data:e.batchForm.payOrderNum,"header-cell-style":{padding:"1px 0px"},border:""}},[a("el-table-column",{attrs:{label:"收货信息",width:"80px;",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"click",placement:"top"}},[a("p",[e._v("手机号: "+e._s(t.row.receiveUserMobile))]),e._v(" "),a("p",[e._v("住址: "+e._s(t.row.userNreceiveUserAddressame))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"add-more",attrs:{size:"mini"}},[e._v(e._s(t.row.receiveUserName))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单号",align:"center",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"order"},[e._v(e._s(t.row.order))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"终端序列号",align:"center",width:"210px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"order"},[a("el-input",{attrs:{type:"text",placeholder:"请输入终端序列号",clearable:!0},on:{input:function(a){e.inputFee(t.row,"sn")}},model:{value:t.row.sn,callback:function(a){e.$set(t.row,"sn",a)},expression:"scope.row.sn"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"快递单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"order"},[a("el-input",{attrs:{type:"text",clearable:!0,placeholder:"请输入快递单号"},on:{input:function(a){e.inputFee(t.row,"expressNo")}},model:{value:t.row.expressNo,callback:function(a){e.$set(t.row,"expressNo",a)},expression:"scope.row.expressNo"}})],1)]}}])})],1)],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.batchFormVisible=!1}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.batchFormSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.updateFormVisible,title:"修改终端序列号",width:"470px"},on:{"update:visible":function(t){e.updateFormVisible=t},open:e.openUpdateDialog,close:e.closeUpdateDialog}},[a("el-form",{ref:"updateForm",attrs:{inline:!0,rules:e.updateRules,model:e.updateForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"终端序列号",prop:"terminal"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{type:"text",placeholder:"请输入终端序列号"},model:{value:e.updateForm.terminal,callback:function(t){e.$set(e.updateForm,"terminal",t)},expression:"updateForm.terminal"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateFormVisible=!1}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.updateFormSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.detailFormVisible,title:"详情",width:"850px"},on:{"update:visible":function(t){e.detailFormVisible=t}}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.userName,callback:function(t){e.$set(e.detailForm,"userName",t)},expression:"detailForm.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{staticClass:"w-199 m-r-5",attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.mobile,callback:function(t){e.$set(e.detailForm,"mobile",t)},expression:"detailForm.mobile"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人姓名"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.conSignee,callback:function(t){e.$set(e.detailForm,"conSignee",t)},expression:"detailForm.conSignee"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人手机号"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.conSigneeMobile,callback:function(t){e.$set(e.detailForm,"conSigneeMobile",t)},expression:"detailForm.conSigneeMobile"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"收货地址"}},[a("el-input",{attrs:{disabled:!0,type:"textarea",resize:"none"},model:{value:e.detailForm.addressInfo,callback:function(t){e.$set(e.detailForm,"addressInfo",t)},expression:"detailForm.addressInfo"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属代理商"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.productAgentName,callback:function(t){e.$set(e.detailForm,"productAgentName",t)},expression:"detailForm.productAgentName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"一级代理商"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.topAgentName,callback:function(t){e.$set(e.detailForm,"topAgentName",t)},expression:"detailForm.topAgentName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端序列号"}},[a("el-input",{attrs:{value:e._f("formatZeroValue")(e.detailForm.sn),disabled:!0,type:"text"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"终端类型"}},[a("el-input",{attrs:{value:e._f("formatZeroValue")(e.detailForm.terminal),disabled:!0,type:"text"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.payOrderId,callback:function(t){e.$set(e.detailForm,"payOrderId",t)},expression:"detailForm.payOrderId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailStatus,callback:function(t){e.detailStatus=t},expression:"detailStatus"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"快递单号"}},[a("el-input",{attrs:{value:e._f("formatZeroValue")(e.detailForm.expressNo),disabled:!0,type:"text"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货时间"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.receivingTime,callback:function(t){e.$set(e.detailForm,"receivingTime",t)},expression:"detailForm.receivingTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单时间"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.insertDate,callback:function(t){e.$set(e.detailForm,"insertDate",t)},expression:"detailForm.insertDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发货时间"}},[a("el-input",{attrs:{disabled:!0,type:"text"},model:{value:e.detailForm.deliveryTime,callback:function(t){e.$set(e.detailForm,"deliveryTime",t)},expression:"detailForm.deliveryTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"快递公司"}},[a("el-input",{attrs:{value:e._f("formatZeroValue")(e.detailForm.expressCompany),disabled:!0,type:"text"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作人"}},[a("el-input",{attrs:{value:e._f("formatZeroValue")(e.detailForm.deliveryUserName),disabled:!0,type:"text"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"说明信息"}},[a("el-input",{attrs:{disabled:!0,type:"textarea",row:3,resize:"none"},model:{value:e.detailForm.content,callback:function(t){e.$set(e.detailForm,"content",t)},expression:"detailForm.content"}})],1)],1)],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailFormVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},[],!1,null,null,null);w.options.__file="terminalOrder.vue";t.default=w.exports},YZgg:function(e,t,a){"use strict";var i,r=a("QbLZ"),s=a.n(r),n=a("YEIV"),l=a.n(n),o=a("L2JU"),d=a("rY9o"),c=a("X4fA"),u={props:["listQuery","noTitle","sn"],data:function(){return{userList:[],userQuery:{pageNum:1,pageSize:50,productAgentID:"",productID:null,name:"",agentFindType:3,genre:1},userId:"",loading:!1}},watch:(i={userId:function(e){this.$emit("selectUserId",e)}},l()(i,"listQuery.productAgentId",function(e){this.userList=[],this.userId=""}),l()(i,"listQuery.productAgentid",function(e){this.userList=[],this.userId=""}),l()(i,"listQuery.agentFindType",function(e){this.userList=[],this.userId=""}),l()(i,"listQuery.productAgentID",function(e){this.userList=[],this.userId=""}),l()(i,"listQuery.userId",function(e){this.userId=e}),l()(i,"listQuery.userID",function(e){this.userId=e}),l()(i,"userQuery.genre",function(e){this.userQuery.name="",this.userList=[],this.userId=""}),i),computed:s()({},Object(o.b)([""])),mounted:function(){var e=this;this.$nextTick(function(){(e.$route.query.name||e.$route.query.userId)&&(e.userList=[{id:e.$route.query.userId,name:e.$route.query.name}])})},methods:{getUserList:function(e){var t=this,a=JSON.parse(Object(c.b)());this.userQuery.productID=a.id,this.userQuery.name=e,this.listQuery&&(this.userQuery.productAgentID=this.listQuery.productAgentid||this.listQuery.productAgentId||this.listQuery.productAgentID||"",this.userQuery.agentFindType=this.listQuery.agentFindType||3),Object(d.Hd)(this.userQuery).then(function(e){t.userList=e.rows})},getOkUserName:function(e){return e.name+(e.mobile?"-"+e.mobile:"")},remoteMethod:function(e){var t=this;this.loading=!0,this.isNumberic(e)?setTimeout(function(){t.loading=!1,t.getUserList(e)}):this.userList=[]},isNumberic:function(e){return null!=e.match(/[\u4E00-\u9FA5]/g)||(null!=e.match(/[0-9]/g)||void 0)}}},p=(a("oUfR"),a("KHd+")),m=Object(p.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"nav-select"},[e.sn?a("div",{staticClass:"nav-select-title select-input-style"},[a("el-select",{staticClass:"handle-select select-w-4 big-small select-date-style",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.userQuery.genre,callback:function(t){e.$set(e.userQuery,"genre",t)},expression:"userQuery.genre"}},[a("el-option",{attrs:{value:1,label:"商户名或手机号"}},[e._v("商户名或手机号")]),e._v(" "),a("el-option",{attrs:{value:2,label:"终端序列号"}},[e._v("终端序列号")])],1)],1):e.noTitle?e._e():a("div",{staticClass:"nav-select-title"},[e._v("商户名或手机号")]),e._v(" "),a("el-select",{staticClass:"handle-select select-w-8",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入"+(1==e.userQuery.genre?"商户名或手机号":"终端序列号"),"remote-method":e.remoteMethod,clearable:!0,disabled:!(!e.listQuery||!e.listQuery.disabled)&&e.listQuery.disabled,loading:e.loading},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.userList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:e.getOkUserName(t)}},[a("span",{staticStyle:{float:"left","font-size":"12px"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right","font-size":"12px"}},[a("span",{staticStyle:{color:"#8492a6"}},[e._v(e._s(t.mobile))]),e._v(" "),2==t.status?a("span",{staticClass:"blue"},[e._v("禁用")]):e._e(),e._v(" "),3==t.status?a("span",{staticClass:"tipText"},[e._v("删除")]):e._e()])])}))],1)])},[],!1,null,"ad3c348a",null);m.options.__file="filterBox.vue";t.a=m.exports},aI7T:function(e,t,a){var i=a("vn91");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("SZ7m").default)("3ad94f3c",i,!0,{})},caUn:function(e,t,a){"use strict";var i=a("QbLZ"),r=a.n(i),s=a("L2JU"),n=(a("rY9o"),a("X4fA"),{props:["page","timeOption","refund","showday","defaultDate","disType"],data:function(){var e=this;return{flag:2,loading:!1,timeBox:"",regDate:new Date((new Date).setDate((new Date).getDate()-7)),startDate:new Date((new Date).setDate((new Date).getDate()-7)),endDate:new Date,timeValue:0,pickerBeginDateBefore:{disabledDate:function(t){if(e.endDate)return t.getTime()>(new Date).getTime()}},pickerBeginDateAfter:{disabledDate:function(t){var a=e.startDate,i=e.availableDay,r=new Date(new Date(a).setDate(new Date(a).getDate()+i));if(a)return t.getTime()<a||t.getTime()>r||t.getTime()>(new Date).getTime()}}}},watch:{flag:function(e){this.$emit("updateFlag",this.flag,this.startDate,this.endDate)},timeOption:function(e){this.timeValue=e[0].value},defaultDay:function(e){this.resetDate()}},computed:r()({},Object(s.b)([""]),{availableDay:function(){return reqCfg.dateArr&&reqCfg.dateArr[""+this.page]&&reqCfg.dateArr[""+this.page].availableDay?reqCfg.dateArr[""+this.page].availableDay:this.defaultDate&&this.defaultDate.availableDay?this.defaultDate.availableDay:30},defaultDay:function(){return reqCfg.dateArr&&reqCfg.dateArr[""+this.page]&&reqCfg.dateArr[""+this.page].day?reqCfg.dateArr[""+this.page].day:this.defaultDate&&this.defaultDate.day||this.defaultDate&&0===this.defaultDate.day?this.defaultDate.day:7}}),mounted:function(){var e=this;this.$nextTick(function(){e.$route.query.startDate&&(e.startDate=new Date(e.$route.query.startDate)),e.$route.query.endDate&&(e.endDate=new Date(e.$route.query.endDate)),e.$route.query.startDate||e.$route.query.endDate||(e.regDate=e.startDate=new Date((new Date).setDate((new Date).getDate()-e.defaultDay))),e.$route.query.timeValue&&(e.timeValue=e.$route.query.timeValue-0),e.timeOption&&e.timeOption.length&&(e.timeValue=e.timeOption[0].value),e.timeOption&&e.timeOption.length?e.$emit("updateTimeValue",e.timeValue,e.startDate,e.endDate):e.$emit("updateFlag",e.flag,e.startDate,e.endDate)})},methods:{statusChange:function(e){this.startDate=this.regDate,this.endDate=new Date},timeValueChange:function(e){this.timeValue=e,this.startDate=this.regDate,this.endDate=new Date,this.timeOption&&this.timeOption.length?this.$emit("updateTimeValue",this.timeValue,this.startDate,this.endDate):this.$emit("updateFlag",this.flag,this.startDate,this.endDate)},resetDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.startDate=new Date((new Date).setDate((new Date).getDate()-this.defaultDay)),this.endDate=new Date,e&&e(this.startDate,this.endDate),this.$emit("updateTimeValue",this.timeValu,this.startDate,this.endDate)},startDateChange:function(e){var t=new Date(new Date(e).setDate(new Date(e).getDate()+this.availableDay)),a=new Date(new Date(e).setDate(new Date(e).getDate()+this.defaultDay));this.endDate=t<a.getTime()?t<(new Date).getTime()?t:new Date:a<(new Date).getTime()?a:new Date,this.timeOption&&this.timeOption.length?this.$emit("updateTimeValue",this.timeValue,this.startDate,this.endDate):this.$emit("updateFlag",this.flag,this.startDate,this.endDate)},endDateChange:function(e){this.timeOption&&this.timeOption.length?this.$emit("updateTimeValue",this.timeValue,this.startDate,this.endDate):this.$emit("updateFlag",this.flag,this.startDate,this.endDate)}}}),l=(a("nAPR"),a("KHd+")),o=Object(l.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"nav-select"},[e.timeOption&&e.timeOption.length>1?a("div",{staticClass:"nav-select-title select-input-style"},[a("el-select",{staticClass:"handle-select select-w-2 big-small select-date-style",attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.timeValueChange},slot:"prepend",model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}},e._l(e.timeOption,function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})}))],1):e.timeOption&&1==e.timeOption.length?a("div",{staticClass:"nav-select-title select-input-style"},[e._v(e._s(e.timeOption[0].text))]):a("div",{staticClass:"nav-select-title select-input-style"},[a("el-select",{staticClass:"handle-select select-w-2 big-small select-date-style",attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.statusChange},slot:"prepend",model:{value:e.flag,callback:function(t){e.flag=t},expression:"flag"}},[a("el-option",{attrs:{label:1==e.showday?"订单日期":"订单时间",value:2}}),e._v(" "),a("el-option",{attrs:{label:"清算日",value:1}}),e._v(" "),1==e.refund?a("el-option",{attrs:{label:"退款时间",value:3}}):e._e()],1)],1),e._v(" "),a("el-date-picker",{attrs:{editable:!1,type:"date","picker-options":e.pickerBeginDateBefore,disabled:e.disType||!1},on:{change:e.startDateChange},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),e._v(" -\n    "),a("el-date-picker",{attrs:{editable:!1,type:"date","picker-options":e.pickerBeginDateAfter,disabled:e.disType||!1},on:{change:e.endDateChange},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)])},[],!1,null,"320aab82",null);o.options.__file="timeBox.vue";t.a=o.exports},j9RI:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.batch .cell {\n  height: 35px !important;\n}\n.batch_form {\n  width: 98% !important;\n}\n",""])},lJhe:function(e,t,a){var i=a("PkhV");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("SZ7m").default)("77dd7e76",i,!0,{})},nAPR:function(e,t,a){"use strict";var i=a("RQWr");a.n(i).a},oUfR:function(e,t,a){"use strict";var i=a("aI7T");a.n(i).a},"p/Zz":function(e,t,a){"use strict";var i=a("TAUD");a.n(i).a},snek:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.select-input-style[data-v-320aab82] .el-select .el-input__inner:focus {\r\n  border-color: rgba(0, 0, 0, 0);\n}\n.select-date-style[data-v-320aab82] .el-input__inner {\r\n  background-color: rgba(0, 0, 0, 0);\r\n  border: none;\n}\n.select-date-style[data-v-320aab82] .el-input__inner {\r\n  padding-right: 0px;\r\n  padding-left: 0px;\r\n  color: #909399;\n}\n.select-date-style[data-v-320aab82] .el-select__caret {\r\n  margin-right: -20px !important;\n}\r\n",""])},vn91:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.select-input-style[data-v-ad3c348a] .el-select .el-input__inner:focus {\r\n  border-color: rgba(0, 0, 0, 0);\n}\n.select-date-style[data-v-ad3c348a] .el-input__inner {\r\n  background-color: rgba(0, 0, 0, 0);\r\n  border: none;\n}\n.select-date-style[data-v-ad3c348a] .el-input__inner {\r\n  padding-right: 0px;\r\n  padding-left: 0px;\r\n  color: #909399;\n}\n.select-date-style[data-v-ad3c348a] .el-select__caret {\r\n  margin-right: -20px !important;\n}\r\n",""])}}]);