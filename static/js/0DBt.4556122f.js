(window.webpackJsonp=window.webpackJsonp||[]).push([["0DBt"],{"0DBt":function(e,t,a){"use strict";a.r(t);var s=a("QbLZ"),i=a.n(s),l=a("rY9o"),n=a("L2JU"),r=a("7Qib"),o=a("X4fA"),c=a("6Uqi"),u=a("YZgg"),p=a("CAjm"),d=a("vFqi"),h=a("caUn"),y=a("uBmh"),g=a("4Yho"),m={name:"unionPayRecordCopy",components:{PageTable:c.a,tranDialog:g.a,filterBox:u.a,typeBox:p.a,agentBoxCopy:d.a,timeBox:h.a,statusBox:y.a},data:function(){var e=this;return{tranVisible:!1,orderType:1,productAgentidArr:[],cur_page:1,checked:!0,AccountTipList:null,filterVisible:!1,listQuery:{mobile:"",payOrderId:"",status:1,userName:"",userId:"",productAgentId:"",productId:"",startDate:"",endDate:"",pageNum:1,pageSize:10,orderType:[],businessType:-1,type:1,agentFindType:3,flag:2},posData:{list:[],pageNum:1,pageSize:10,total:0,loading:!1},detalForm:{payOrderID:"",count:1},listLoading:!1,multipleSelection:[],listQuery2:{},startDate:new Date((new Date).setDate((new Date).getDate()-7)),endDate:new Date,payOrderID:"",pickerBeginDateBefore:{disabledDate:function(t){var a=e.endDate;if(a)return t.getTime()>a}},pickerBeginDateAfter:{disabledDate:function(t){var a=e.startDate;if(a)return t.getTime()<a}},table_list:[{type:"click",label:"商户名称",width:"120px",name:"userName",checked:!0},{type:"tel",label:"手机号",name:"mobile",checked:!0},{label:"所属代理商名称",name:"agentName",width:"140px",checked:!0},{label:"一级代理商名称",name:"topAgentName",width:"140px",checked:!0},{type:"date",label:"订单时间",name:"insertDate",checked:!0,fixed:"right"},{label:"清算日",name:"JYSettleDate",width:"100px",checked:!0},{type:"click",label:"订单号",width:"180px",name:"payOrderId",checked:!0},{label:"交易类型",name:"orderTypeTxt",checked:!0,width:"140px"},{label:"业务类型",name:"businessType",width:"140px",checked:!0},{type:"statusColor",label:"交易状态",name:"status",width:"100px",checked:!0},{type:"popover",label:"交易信息",name:"bankResult",width:"150px",checked:!0},{type:"money",label:"订单金额(元)",name:"money",checked:!0,fixed:"right"},{type:"popover",label:"说明",width:"100px",name:"payNameContent",checked:!0}]}},computed:i()({},Object(n.b)(["agentList","alltran_list_copy","productInfo"])),mounted:function(){var e=this;this.$nextTick(function(){e.pageLoad()})},methods:{pageLoad:function(){""!=this.listQuery.productAgentId&&this.sizeChange(10)},currentChange:function(e){this.select_query(e)},sizeChange:function(e){""!=this.listQuery.productAgentId?(this.listQuery2=this.copy_obj(this.listQuery),this.select_query(1,e)):this.$message.warning("请选择代理商")},select_query:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=JSON.parse(Object(o.b)());this.listQuery2.productId=s.id,this.listQuery2.startDate=Object(r.g)(this.startDate)+" 00:00:00",this.listQuery2.endDate=Object(r.g)(this.endDate)+" 23:59:59",this.listQuery2.pageNum=t||this.posData.pageNum,this.listQuery2.pageSize=a||this.posData.pageSize,this.posData.loading=!0,this.$store.dispatch("reqUrl_SysData",{reqName:l.ad,dataName:"alltran_list_copy",data:this.listQuery2}).then(function(t){e.posData.list=t.data.payOrderOverviewDetail,e.posData.total=t.total,e.posData.loading=!1,e.posData.pageNum=e.listQuery2.pageNum,e.posData.pageSize=e.listQuery2.pageSize}).catch(function(t){e.posData.loading=!1})},handleSelectionChange:function(e){this.multipleSelection=e},closeDialog:function(e){this.tranVisible=e},selectOrderType:function(e){this.listQuery.orderType=e},selectStatusType:function(e){this.listQuery.status=e},handleDetail:function(e,t,a){"userName"==a.name?this.pushPage("customerManage/info",{cId:t.userId,name:t.userName}):"money"==a.name?this.pushPage("agentManage/achievement",{orderId:t.transactionNo,startDate:this.listQuery2.startDate.substring(0,10),endDate:this.listQuery2.endDate.substring(0,10),timeValue:this.listQuery2.flag}):(this.detalForm.payOrderID=t.jhAccountLogId,this.detalForm.count=t.accountLogCount,this.orderType=t.orderType,this.tranVisible=!0)},selectUserId:function(e){this.listQuery.userId=e},updateFlag:function(e,t,a){this.listQuery.flag=e,this.startDate=t,this.endDate=a,1==e&&(this.listQuery.status=1)},selectAgentFun:function(e,t,a){this.listQuery.productAgentId=e,this.listQuery.agentFindType=t,1===a&&this.pageLoad()},btnClickHandle:function(e){switch(e){case"export":this.getCheckData("收款明细总览分润",this.multipleSelection,this.table_list)}}}},b=a("KHd+"),v=Object(b.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("nav",[a("el-row",[a("agentBoxCopy",{attrs:{listQuery:e.listQuery},on:{selectAgentFun:e.selectAgentFun}}),e._v(" "),a("filterBox",{attrs:{listQuery:e.listQuery},on:{selectUserId:e.selectUserId}}),e._v(" "),a("el-input",{staticClass:"nav-input font-w-6",attrs:{placeholder:"请输入订单号",clearable:!0},model:{value:e.listQuery.payOrderId,callback:function(t){e.$set(e.listQuery,"payOrderId","string"==typeof t?t.trim():t)},expression:"listQuery.payOrderId"}},[a("template",{slot:"prepend"},[e._v("订单号")])],2),e._v(" "),a("statusBox",{attrs:{statusOption:7},on:{selectStatusType:e.selectStatusType}}),e._v(" "),a("typeBox",{attrs:{tranType:-1,payType:1},on:{selectOrderType:e.selectOrderType}}),e._v(" "),a("div",{staticClass:"nav-select"},[a("div",{staticClass:"nav-select-title"},[e._v("业务类型")]),e._v(" "),a("el-select",{staticClass:"handle-select select-w-4",attrs:{placeholder:"全部"},model:{value:e.listQuery.businessType,callback:function(t){e.$set(e.listQuery,"businessType",t)},expression:"listQuery.businessType"}},[a("el-option",{key:"-1",attrs:{label:"全部",value:-1}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"普通收款",value:1}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"收开通费",value:2}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"升代理",value:4}}),e._v(" "),a("el-option",{key:"5",attrs:{label:"消费",value:5}})],1)],1),e._v(" "),a("timeBox",{attrs:{page:"unionPayRecord"},on:{updateFlag:e.updateFlag}}),e._v(" "),a("el-button",{staticClass:"search margin-t-20",attrs:{type:"primary",icon:"search"},on:{click:function(t){e.sizeChange(10)}}},[e._v("查询")])],1)],1),e._v(" "),a("div",{staticClass:"tip clearfix"},[a("div",{staticClass:"fl margin-r-30"},[e._v("\n          汇总笔数：\n          "),a("span",{staticClass:"color-blue"},[e._v("\n            "+e._s(e.alltran_list_copy.list&&e.alltran_list_copy.list.count)+" ")]),e._v("笔\n        ")]),e._v(" "),a("div",{staticClass:"fl margin-r-30"},[e._v("\n          订单金额：\n          "),a("span",{staticClass:"color-blue"},[e._v("\n            "+e._s(e._f("formatToYuan")(e.alltran_list_copy.list&&e.alltran_list_copy.list.money))+" ")]),e._v("元\n        ")])]),e._v(" "),a("PageTable",{attrs:{listWidth:!0,showSummary:!0,tableList:e.table_list,tableData:e.posData,indexID:!0,noIndex:!0},on:{handleSelectionChange:e.handleSelectionChange,clickData:e.handleDetail,sizeChange:e.sizeChange,currentChange:e.currentChange,btnClickHandle:e.btnClickHandle}})],1)]),e._v(" "),a("tranDialog",{attrs:{tranVisible:e.tranVisible,orderType:e.orderType,orderId:e.detalForm.payOrderID,splitfee:e.detalForm.count},on:{closeDialog:e.closeDialog}})],1)},[],!1,null,null,null);v.options.__file="unionPayRecordCopy.vue";t.default=v.exports}}]);