(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-79f9"],{"7Qib":function(n,e,t){"use strict";t.d(e,"h",function(){return f}),t.d(e,"d",function(){return g}),t.d(e,"g",function(){return m}),t.d(e,"b",function(){return h}),t.d(e,"f",function(){return v}),t.d(e,"a",function(){return y}),t.d(e,"i",function(){return b}),t.d(e,"c",function(){return w}),t.d(e,"e",function(){return _});var r=t("14Xm"),a=t.n(r),i=t("D3Ub"),o=t.n(i),l=(t("jWXv"),t("rfXi"),t("GQeE"),t("EJiy")),s=t.n(l),u=t("Kw5r"),d=t("Q2AE"),c=(t("X4fA"),t("Yfch")),p=t("N4Yp");function f(n,e){if(0===arguments.length)return null;var t=e||"{y}-{m}-{d} {h}:{i}:{s}",r=void 0;"object"===(void 0===n?"undefined":s()(n))?r=n:(10===(""+n).length&&(n=1e3*parseInt(n)),r=new Date(n));var a={y:r.getFullYear(),m:r.getMonth()+1,d:r.getDate(),h:r.getHours(),i:r.getMinutes(),s:r.getSeconds(),a:r.getDay()};return t.replace(/{(y|m|d|h|i|s|a)+}/g,function(n,e){var t=a[e];return"a"===e?["日","一","二","三","四","五","六"][t]:(n.length>0&&t<10&&(t="0"+t),t||0)})}function g(n){var e=n||new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function m(n){var e=n.getFullYear(),t=n.getMonth()+1;t=t<10?"0"+t:t;var r=n.getDate();return e+"-"+t+"-"+(r=r<10?"0"+r:r)}u.default.prototype.copy_obj=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var t in n)e[t]=n[t];return e},u.default.prototype.show_feeType=function(n,e){for(var t=[],r=0;r<t.length;r++)if(n===t[r])return!0},u.default.prototype.showPageNum=function(n,e,t){return t<=e?1:Math.ceil((t-0)/e)-n>=0?n:n-1},u.default.prototype.Multiple=function(n){return 100*((n-0)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)).toFixed(2)/100},u.default.prototype.delBackPage=function(n,e){var t=n.pageNum,r=n.pageSize,a=n.total,i=e.length,o=Math.ceil((a-i)/r);return o?o>=t?t:t-1:1},u.default.prototype.delBackPage2=function(n,e,t,r){var a=Math.ceil((t-r)/e);return a?a>=n?n:n-1:1},u.default.prototype.showDay=function(){var n=new Date,e=Number(n.getMonth())+1;return n.getFullYear()+"-"+e+"-"+n.getDate()},u.default.prototype.showWeekFirstDay=function(){var n=new Date,e=new Date(n-864e5*(n.getDay()-1)),t=Number(e.getMonth())+1;return n.getFullYear()+"-"+t+"-"+e.getDate()},u.default.prototype.showMonthFirstDay=function(){var n=new Date,e=new Date(n.getYear(),n.getMonth(),1),t=Number(e.getMonth())+1;return n.getFullYear()+"-"+t+"-"+e.getDate()},u.default.prototype.showMonthDay=function(){var n=new Date,e=new Date(n-2592e6),t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();return t+"-"+(r<10?"0"+r:r)+"-"+(a<10?"0"+a:a)},u.default.prototype.formatImg=function(n){return n?n.indexOf(d.a.getters.appConfig.imageHost)>-1?n+"&token="+d.a.getters.token:n:""};function h(n,e,t){var r=void 0,a=void 0,i=void 0,o=void 0,l=void 0,s=function s(){var u=+new Date-o;u<e&&u>0?r=setTimeout(s,e-u):(r=null,t||(l=n.apply(i,a),r||(i=a=null)))};return function(){for(var a=arguments.length,u=Array(a),d=0;d<a;d++)u[d]=arguments[d];i=this,o=+new Date;var c=t&&!r;return r||(r=setTimeout(s,e)),c&&(l=n.apply(i,u),i=u=null),l}}function v(n){return 1==n.length||(window.vue.$message.warning("列表中请选择一个"),!1)}function y(n){return n.length>0||(window.vue.$message.warning("列表中请至少选择一个"),!1)}function b(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];y(n)&&window.vue.$confirm("确认"+(-1==e?"删除":a||(e?"开启":"关闭"))+"吗？").then(function(a){var o=[];n.find(function(n){o.push(n.id)}),window.vue.$store.dispatch("open_close_delete",{req_name:t,data:i||(-1==e?{id:o}:{id:o,status:e})}).then(function(n){window.vue.$message.success("成功!"),r&&r()})}).catch(function(n){})}function w(n){var e=n.getFullYear(),t=n.getMonth()+1;t=t<10?"0"+t:t;var r=n.getDate();return e+"-"+t+"-"+(r=r<10?"0"+r:r)}var _=function(){var n=o()(a.a.mark(function n(){var e,t,r,i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=null,t=window.vue.$route.query.id,r=window.vue.$route.path.substring(1),n.next=5,Object(p.k)({pageid:t,url:r});case 5:return i=n.sent,(e=i.rows).forEach(function(n){switch(n.flag=n.url.indexOf("|")>-1?n.url.split("|")[0]:n.url,n.flag){case"add":case"edit":case"list":case"custom":case"sms":case"detail":case"check":case"edit":case"upgrade":case"remove":case"batch":case"enter":case"export":case"pwd":n.type="primary";break;case"on":case"onModule":case"off":case"offModule":n.type="warning";break;case"del":case"delModule":n.type="danger";break;default:n.type="primary"}}),n.abrupt("return",e);case 9:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}();u.default.prototype.outExcel=function(n,e,r,a){var i=this;0!=a.length?Promise.all([t.e("chunk-7a80"),t.e("chunk-413d")]).then(t.bind(null,"S/jZ")).then(function(t){var o=Object(c.j)(r,a);t.export_json_to_excel({header:e,data:o,filename:n+Object(c.d)(),autoWidth:i.autoWidth})}):window.vue.$message.warning("请至少选择一条数据")},u.default.prototype.getCheckData=function(n,e,r){var a=this;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0!=e.length){for(var i=[],o=[],l=[],s=0;s<e.length;s++){var u=this.copy_obj(e[s]);l.push(u)}for(var p=0;p<r.length;p++)if(1!=r[p].hidden){if("money"==r[p].type||"rewardMoney"==r[p].type||"recordMoney"==r[p].type||"warningMoney"==r[p].type)for(var f=0;f<l.length;f++){var g=r[p].name;l[f][g]=Object(c.v)(l[f][g])}else if("stateMuch"==r[p].type)for(f=0;f<l.length;f++){g=r[p].name;l[f][g]=r[p].stateMuch[l[f][g]]}else if("arrayValue"==r[p].type){var m=d.a.getters[r[p].arrayValue].list;for(f=0;f<l.length;f++){g=r[p].name;if(m)for(var h=0;h<m.length;h++)if(m[h].value==l[f][g]){l[f][g]=m[h].label;break}}}i.push(r[p].label),o.push(r[p].name)}Promise.all([t.e("chunk-7a80"),t.e("chunk-413d")]).then(t.bind(null,"S/jZ")).then(function(e){var t=Object(c.j)(o,l);e.export_json_to_excel({header:i,data:t,filename:n+Object(c.d)(),autoWidth:a.autoWidth})})}else window.vue.$message.warning("请至少选择一条数据")},u.default.prototype.getParents=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(e)for(var t in e){if(e[t].value==n)return[e[t].value];if(e[t].children){var r=this.getParents(n,e[t].children);if(void 0!==r)return r.concat(e[t].value)}}},u.default.prototype.getAllChild=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(e)for(var t in e){if(e[t].value==n)return[e[t].value];if(!e[t].children)return r.concat(e[t].value);var r=this.getParents(n,e[t].children);if(void 0!==r)return r.concat(e[t].value)}},u.default.prototype.sortArr=function(n){if(n){for(var e=[],t=n.length;t--;t>=0)e.push(n[t]);return e}},u.default.prototype.toChinesNum=function(n){var e=["零","一","二","三","四","五","六","七","八","九"],t=["","十","百","千","万"];n=parseInt(n);var r=function(n){for(var r=n.toString().split("").reverse(),a="",i=0;i<r.length;i++)a=(0==i&&0==r[i]?"":i>0&&0==r[i]&&0==r[i-1]?"":e[r[i]]+(0==r[i]?t[0]:t[i]))+a;return a},a=Math.floor(n/1e4),i=n%1e4;return i.toString().length<4&&(i="0"+i),a?r(a)+"万"+r(i):r(n)}},"RU/L":function(n,e,t){t("Rqdy");var r=t("WEpk").Object;n.exports=function(n,e,t){return r.defineProperty(n,e,t)}},Rqdy:function(n,e,t){var r=t("Y7ZC");r(r.S+r.F*!t("jmDH"),"Object",{defineProperty:t("2faE").f})},SEkw:function(n,e,t){n.exports={default:t("RU/L"),__esModule:!0}},XMYD:function(n,e,t){(n.exports=t("I1BE")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},YEIV:function(n,e,t){"use strict";e.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(t("SEkw"));e.default=function(n,e,t){return e in n?(0,r.default)(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}},mWqK:function(n,e,t){"use strict";t.r(e);var r,a=t("YEIV"),i=t.n(a),o=t("QbLZ"),l=t.n(o),s=t("rY9o"),u=t("7Qib"),d=t("N4Yp"),c=t("L2JU"),p=t("X4fA"),f=t("Yfch"),g=t("/Smc"),m=t("4Vms"),h={components:{agentDropDownList:g.a,agentBox:m.a},name:"userList",data:function(){var n=this;return{inputType:"text",filterVisible:!1,tableData:[],levelItem:null,authGroupList:[],cur_page:1,listQuery:{authGroupid:"",endDate:"",lastId:"",loginName:"",productAgentID:"",productID:"",startDate:"",status:1,userName:"",pageNum:1,pageSize:10,userType:0},startDate:new Date((new Date).setFullYear((new Date).getFullYear()-3)),endDate:new Date,listLoading:!1,total:0,readonly:!0,is_search:!1,editVisible:!1,addVisible:!1,isResetForm:!1,updateVisible:!1,addForm:{userName:"",loginName:"",loginPwd:"",rePwd:"",productAgentid:"",productid:"",authGroupid:"",userType:""},addAgentList:[],uptPwdForm:{id:"",newPwd:"",rePwd:""},editForm:{groupId:"",id:"",loginName:"",userName:""},selectData:[],rules:{userName:[{required:!0,message:"请输入用户名称",trigger:"blur"},{max:15,message:"长度最多为 15 个字符",trigger:"blur"}],loginName:[{required:!0,validator:f.u,name:"登录名",trigger:"blur"}],productAgentid:[{required:!0,message:"请输入并选择代理商",trigger:"change"}],userType:[{required:!0,message:"请选择用户类型",trigger:"change"}],authGroupid:[{required:!0,message:"请选择角色",trigger:"change"}],loginPwd:[{required:!0,message:"请输入登录密码",trigger:"blur"},{validator:function(e,t,r){""===t?r(new Error("请输入密码")):t.length<6?r(new Error("密码最小长度为6")):(""!==n.addForm.rePwd&&n.$refs.addForm.validateField("rePwd"),r())},trigger:"blur"}],rePwd:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(e,t,r){""===t?r(new Error("请再次输入密码")):t!==n.addForm.loginPwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]},editRules:{userName:[{required:!0,message:"请输入用户名称",trigger:"blur"},{max:15,message:"长度最多为 15 个字符",trigger:"blur"}],groupId:[{required:!0,message:"请选择权限",trigger:"change"}],loginName:[{required:!0,validator:f.u,name:"登录名",trigger:"blur"},{max:15,min:3,message:"长度最多为 15 个字符，至少3个字符",trigger:"blur"}],loginPwd:[{required:!0,message:"请输入登录密码",trigger:"blur"},{validator:function(e,t,r){""===t?r(new Error("请输入密码")):t.length<6?r(new Error("密码最小长度为6")):(""!==n.editForm.rePwd&&n.$refs.editForm.validateField("rePwd"),r())},trigger:"blur"}],rePwd:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(e,t,r){""===t?r(new Error("请再次输入密码")):t!==n.editForm.loginPwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]},uptPwdRules:{newPwd:[{validator:function(e,t,r){""===t?r(new Error("请输入密码")):t.length<6?r(new Error("密码最小长度为6")):(""!==n.uptPwdForm.rePwd&&n.$refs.uptPwdForm.validateField("rePwd"),r())},trigger:"blur"}],rePwd:[{validator:function(e,t,r){""===t?r(new Error("请再次输入密码")):t!==n.uptPwdForm.newPwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]},pickerBeginDateBefore:{disabledDate:function(e){var t=n.endDate;if(t)return e.getTime()>t||e.getTime()>(new Date).getTime()}},pickerBeginDateAfter:{disabledDate:function(e){var t=n.startDate;if(t)return e.getTime()<t||e.getTime()>(new Date).getTime()}},currentButton:[],checked:!1,userType:"",editUserType:null,productAgentidArr1:[],productAgentidArr2:[],loading:!1,agentDropDow:{list:[],total:0}}},computed:l()({},Object(c.b)(["ptList","agentList","productInfo"])),watch:(r={productInfo:function(n,e){n.id!=e.id&&e.id&&(this.listQuery.userType="2",this.getListData())}},i()(r,"listQuery.userType",function(n,e){this.getAuthGroupList(n)}),i()(r,"addForm.userType",function(n,e){this.addForm.authGroupid="",this.addForm.productAgentid="",this.levelItem=null}),r),mounted:function(){var n=this,e=Object(p.f)();this.userType=e,this.listQuery.userType=e,this.$nextTick(function(){n.$route.query.agentId&&(n.listQuery.productAgentID=n.$route.query.agentId,n.listQuery.status=0,n.listQuery.userType="3"),Object(u.e)().then(function(e){n.currentButton=e,n.getListData()})})},methods:{handleChange1:function(n){this.listQuery.productAgentID=n[n.length-1||0]},handleChange2:function(n){this.addForm.productAgentid=n[n.length-1||0]},handleFilter:function(){this.listQuery.pageNum=1,this.getListData()},handleSizeChange:function(n){this.listQuery.pageSize=n,this.getListData()},handleCurrentChange:function(n){this.listQuery.pageNum=n,this.getListData(this.listQuery)},getListData:function(){var n=this;this.tableData=[],this.listLoading=!0,this.startDate&&this.endDate&&(this.listQuery.startDate=Object(u.g)(this.startDate||new Date((new Date).setDate((new Date).getDate()-7)))+" 00:00:00",this.listQuery.endDate=Object(u.g)(this.endDate||new Date)+" 23:59:59");var e=JSON.parse(Object(p.b)());this.listQuery.productID=e.id,Object(s.Gd)(this.listQuery).then(function(e){n.tableData=e.rows,n.total=e.total,n.listLoading=!1}).catch(function(e){n.listLoading=!1})},search:function(){this.is_search=!0,this.listQuery.pageNum=1,this.listQuery.pageSize=10,this.getListData()},selectAgentFun:function(n,e,t){this.listQuery.productAgentID=n},formatter:function(n,e){return n.address},filterTag:function(n,e){return e.tag===n},getAuthGroupList:function(n){var e=this;Object(d.i)({lastId:"",name:"",status:1,pageSize:0,userType:n}).then(function(n){e.authGroupList=n.rows})},handleEdit:function(){if(this.isNull(this.selectData)){this.editUserType=this.editForm.userType=this.selectData[0].userType,this.editForm.id=this.selectData[0].id,this.editForm.userName=this.selectData[0].userName,this.editForm.loginName=this.selectData[0].loginName,this.editVisible=!0;for(var n=0;n<this.authGroupList.length;n++){if(this.authGroupList[n].id==this.selectData[0].authGroupid){this.editForm.groupId=this.selectData[0].authGroupid;break}this.editForm.groupId=""}}},handleAdd:function(){3==this.userType&&(this.addForm.userType=3),this.addVisible=!0,this.isResetForm&&this.resetForm("addForm"),this.isResetForm=!0},freezStatus:function(n){var e=this;Object(u.a)(this.selectData)&&this.$confirm(1==n?"确认启用该用户吗？":2==n?"确认禁用该用户吗？":"确认删除该用户吗？").then(function(t){var r=[];e.selectData.find(function(n){r.push(n.id)}),e.listLoading=!0,Object(s.ne)({userid:r,status:n}).then(function(n){e.listLoading=!1,e.getListData()}).catch(function(n){e.listLoading=!1})})},updateSurePwd:function(){var n=this;this.$refs.uptPwdForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;n.loading=!0,n.uptPwdForm.id=n.selectData[0].id,Object(s.ke)(n.uptPwdForm).then(function(e){n.listLoading=!1,n.$message.success("修改密码成功"),n.updateVisible=!1,n.loading=!1}).catch(function(e){n.listLoading=!1})})},saveEdit:function(){var n=this;this.$refs.editForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;n.loading=!0,Object(s.pc)(n.editForm).then(function(e){n.getListData(),n.listLoading=!1,n.editVisible=!1,n.$message.success("修改成功")}).catch(function(e){n.loading=!1})})},saveAdd:function(){var n=this;this.$refs.addForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;n.loading=!0;var t=JSON.parse(Object(p.b)());n.addForm.productid=t.id,1==n.addForm.userType?(n.addForm.productid="",n.addForm.productAgentid=""):2==n.addForm.userType&&(n.addForm.productAgentid=""),Object(s.Nb)(n.addForm).then(function(e){n.$message.success("添加成功"),3==n.listQuery.userType&&(n.listQuery.productAgentID=n.addForm.productAgentid,n.levelItem={id:n.addForm.productAgentid}),n.getListData(),n.addVisible=!1,n.loading=!1}).catch(function(e){n.loading=!1})})},closeDialog:function(){this.resetForm("editForm"),this.loading=!1},closeDialog1:function(){this.resetForm("uptPwdForm"),this.loading=!1},updatePwd:function(){this.isNull(this.selectData)&&(this.updateVisible=!0)},resetForm:function(n){this.$refs[n].resetFields()},handleSelectionChange:function(n){this.selectData=n},isNull:function(n){return 0==n.length?(this.$message.warning("没有选中任何数据"),!1):!(n.length>1)||(this.$message.warning("请选择一条数据"),!1)},btnClickHandle:function(n){switch(n){case"add":this.handleAdd();break;case"edit":this.handleEdit();break;case"pwd":this.updatePwd();break;case"off":this.freezStatus(2);break;case"on":this.freezStatus(1);break;case"del":this.freezStatus(3)}}}},v=(t("ujVd"),t("KHd+")),y=Object(v.a)(h,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"table"},[t("div",{staticClass:"container"},[t("nav",[t("el-row",{staticClass:"margin-b-20"},[1==n.userType?t("div",{staticClass:"nav-select"},[t("div",{staticClass:"nav-select-title"},[n._v("用户类型")]),n._v(" "),t("el-select",{staticClass:"select-w-5",attrs:{placeholder:"请选择"},model:{value:n.listQuery.userType,callback:function(e){n.$set(n.listQuery,"userType",e)},expression:"listQuery.userType"}},[t("el-option",{key:"1",attrs:{label:"系统用户",value:"1"}}),n._v(" "),t("el-option",{key:"2",attrs:{label:"产品用户",value:"2"}}),n._v(" "),t("el-option",{key:"3",attrs:{label:"代理商用户",value:"3"}})],1)],1):n._e(),n._v(" "),2==n.userType?t("div",{staticClass:"nav-select"},[t("div",{staticClass:"nav-select-title"},[n._v("用户类型")]),n._v(" "),t("el-select",{staticClass:"select-w-5",attrs:{placeholder:"请选择"},model:{value:n.listQuery.userType,callback:function(e){n.$set(n.listQuery,"userType",e)},expression:"listQuery.userType"}},[t("el-option",{key:"2",attrs:{label:"产品用户",value:"2"}}),n._v(" "),t("el-option",{key:"3",attrs:{label:"代理商用户",value:"3"}})],1)],1):n._e(),n._v(" "),3==n.listQuery.userType?t("agentBox",{attrs:{tag:1,levelItem:n.levelItem},on:{selectAgentFun:n.selectAgentFun}}):n._e(),n._v(" "),t("el-input",{staticClass:"nav-input font-w-5",attrs:{placeholder:"请输入登录名",clearable:!0},model:{value:n.listQuery.loginName,callback:function(e){n.$set(n.listQuery,"loginName","string"==typeof e?e.trim():e)},expression:"listQuery.loginName"}},[t("template",{slot:"prepend"},[n._v("登录名")])],2),n._v(" "),t("div",{staticClass:"nav-select"},[t("div",{staticClass:"nav-select-title"},[n._v("状态")]),n._v(" "),t("el-select",{staticClass:"select-w-2",attrs:{placeholder:"全部"},model:{value:n.listQuery.status,callback:function(e){n.$set(n.listQuery,"status",e)},expression:"listQuery.status"}},[t("el-option",{key:"0",attrs:{label:"全部",value:0}}),n._v(" "),t("el-option",{key:"1",attrs:{label:"启用",value:1}}),n._v(" "),t("el-option",{key:"2",attrs:{label:"禁用",value:2}}),n._v(" "),t("el-option",{key:"3",attrs:{label:"删除",value:3}})],1)],1),n._v(" "),n.filterVisible?t("el-input",{staticClass:"nav-input font-w-5",attrs:{placeholder:"请输入用户名",clearable:!0},model:{value:n.listQuery.userName,callback:function(e){n.$set(n.listQuery,"userName","string"==typeof e?e.trim():e)},expression:"listQuery.userName"}},[t("template",{slot:"prepend"},[n._v("用户名")])],2):n._e(),n._v(" "),n.filterVisible?t("div",{staticClass:"nav-select"},[t("div",{staticClass:"nav-select-title"},[n._v("角色")]),n._v(" "),t("el-select",{staticClass:"select-w-6",attrs:{filterable:"",placeholder:"请选择"},on:{focus:function(e){n.getAuthGroupList(n.listQuery.userType)}},model:{value:n.listQuery.authGroupid,callback:function(e){n.$set(n.listQuery,"authGroupid",e)},expression:"listQuery.authGroupid"}},[t("el-option",{key:"",attrs:{label:"全部",value:""}}),n._v(" "),n._l(n.authGroupList,function(n){return t("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})})],2)],1):n._e(),n._v(" "),n.filterVisible?t("div",{staticClass:"nav-select"},[t("div",{staticClass:"nav-select-title"},[n._v("时间")]),n._v(" "),t("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"开始日期","picker-options":n.pickerBeginDateBefore},model:{value:n.startDate,callback:function(e){n.startDate=e},expression:"startDate"}}),n._v("-\n            "),t("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"结束日期","picker-options":n.pickerBeginDateAfter},model:{value:n.endDate,callback:function(e){n.endDate=e},expression:"endDate"}})],1):n._e(),n._v(" "),t("el-button",{staticClass:"search margin-t-20",attrs:{type:"primary",icon:"search"},on:{click:function(e){n.search()}}},[n._v("查询")]),n._v(" "),t("div",{staticClass:"nav_screen",on:{click:function(e){n.filterVisible=!n.filterVisible}}},[n._v("\n            高级\n            "),t("i",{staticClass:"icon",class:n.filterVisible?"el-icon-caret-top":"el-icon-caret-bottom"})])],1)],1),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],attrs:{data:n.tableData,"header-cell-style":{background:"#eef1f6",padding:"3px"},"cell-style":{padding:"3px"},"element-loading-text":"Loading",border:"",fit:"",stripe:"","highlight-current-row":""},on:{"selection-change":n.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"50"}}),n._v(" "),t("el-table-column",{attrs:{prop:"date",label:"用户类型",align:"center","min-width":"120px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(n._f("formatStateMuch")(e.row.userType,{1:"系统用户",2:"产品用户",3:"代理商用户"})))]}}])}),n._v(" "),3==n.listQuery.userType?t("el-table-column",{attrs:{prop:"date",label:"用户所属",align:"center","min-width":"100px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(n._f("formatZeroValue")(e.row.productAgentName)))]}}])}):n._e(),n._v(" "),t("el-table-column",{attrs:{prop:"date",label:"用户名",align:"center","min-width":"100px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(n._f("formatZeroValue")(e.row.userName)))]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"name",label:"登录名",align:"center","min-width":"100px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(e.row.loginName))]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"name",label:"角色",align:"center","min-width":"100px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(n._f("formatZeroValue")(e.row.groupName)))]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"name",label:"状态",align:"center","min-width":"100px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(1==e.row.status?"启用":2==e.row.status?"禁用":"删除"))]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"添加时间",align:"center","min-width":"170px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(e.row.insertDate))]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"上次登录时间",align:"center","min-width":"170px"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(n._s(e.row.lastLoginDate))]}}])})],1),n._v(" "),t("el-row",{staticClass:"leftBtnGroup"},n._l(n.currentButton,function(e,r){return t("el-button",{key:r,staticClass:"margin-t-20",attrs:{size:"mini",type:e.type},on:{click:function(t){n.btnClickHandle(e.flag)}}},[n._v(n._s(e.name))])})),n._v(" "),t("div",{staticClass:"pagination-container text-right"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.total>10,expression:"total>10"}],attrs:{"current-page":n.listQuery.pageNum,"page-sizes":[10,20,30,50],"page-size":n.listQuery.pageSize,total:n.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)],1),n._v(" "),t("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:n.addVisible,title:"添加用户",width:"470px"},on:{"update:visible":function(e){n.addVisible=e},close:function(e){n.inputType="text"}}},[t("el-form",{ref:"addForm",attrs:{"auto-complete":"off",rules:n.rules,model:n.addForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[t("el-select",{staticClass:"select-w-2",attrs:{filterable:"",placeholder:"-请选择-"},model:{value:n.addForm.userType,callback:function(e){n.$set(n.addForm,"userType",e)},expression:"addForm.userType"}},[1==n.userType?t("el-option",{key:"1",attrs:{label:"系统用户",value:1}}):n._e(),n._v(" "),1==n.userType||2==n.userType?t("el-option",{key:"2",attrs:{label:"产品用户",value:2}}):n._e(),n._v(" "),1==n.userType||2==n.userType||3==n.userType?t("el-option",{key:"3",attrs:{label:"代理商用户",value:3}}):n._e()],1)],1),n._v(" "),3==n.addForm.userType?t("el-form-item",{attrs:{label:"所属代理商",prop:"productAgentid"}},[t("agentDropDownList",{ref:"agentDropDownList",attrs:{listQuery:n.addForm,noTitle:!0}})],1):n._e(),n._v(" "),t("el-form-item",{attrs:{label:"角色",prop:"authGroupid"}},[t("el-select",{attrs:{filterable:"",placeholder:"-请选择-"},on:{focus:function(e){n.getAuthGroupList(n.addForm.userType)}},model:{value:n.addForm.authGroupid,callback:function(e){n.$set(n.addForm,"authGroupid",e)},expression:"addForm.authGroupid"}},n._l(n.authGroupList,function(n){return t("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入用户名"},model:{value:n.addForm.userName,callback:function(e){n.$set(n.addForm,"userName","string"==typeof e?e.trim():e)},expression:"addForm.userName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"登录名",prop:"loginName"}},[t("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入登录名"},model:{value:n.addForm.loginName,callback:function(e){n.$set(n.addForm,"loginName","string"==typeof e?e.trim():e)},expression:"addForm.loginName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"登录密码",prop:"loginPwd"}},[t("el-input",{attrs:{"auto-complete":"off",type:n.inputType,placeholder:"请输入登录密码"},on:{focus:function(e){n.inputType="password"}},model:{value:n.addForm.loginPwd,callback:function(e){n.$set(n.addForm,"loginPwd","string"==typeof e?e.trim():e)},expression:"addForm.loginPwd"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"确认登录密码",prop:"rePwd"}},[t("el-input",{attrs:{"auto-complete":"off",type:n.inputType,placeholder:"请确认登录密码"},on:{focus:function(e){n.inputType="password"}},model:{value:n.addForm.rePwd,callback:function(e){n.$set(n.addForm,"rePwd","string"==typeof e?e.trim():e)},expression:"addForm.rePwd"}})],1)],1),n._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(e){n.addVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{size:"small",type:"primary",loading:n.loading},nativeOn:{click:function(e){return e.preventDefault(),n.saveAdd(e)}}},[n._v("确 定")])],1)],1),n._v(" "),t("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:n.editVisible,title:"编辑用户",width:"470px"},on:{"update:visible":function(e){n.editVisible=e},close:n.closeDialog}},[t("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{rules:n.editRules,model:n.editForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"角色",prop:"groupId"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{focus:function(e){n.getAuthGroupList(n.editForm.userType)}},model:{value:n.editForm.groupId,callback:function(e){n.$set(n.editForm,"groupId",e)},expression:"editForm.groupId"}},n._l(n.authGroupList,function(n){return t("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:n.editForm.userName,callback:function(e){n.$set(n.editForm,"userName","string"==typeof e?e.trim():e)},expression:"editForm.userName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"登录名",prop:"loginName"}},[t("el-input",{attrs:{placeholder:"请输入登录名"},model:{value:n.editForm.loginName,callback:function(e){n.$set(n.editForm,"loginName","string"==typeof e?e.trim():e)},expression:"editForm.loginName"}})],1)],1),n._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(e){n.editVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{size:"small",type:"primary",loading:n.loading},nativeOn:{click:function(e){return e.preventDefault(),n.saveEdit(e)}}},[n._v("确 定")])],1)],1),n._v(" "),t("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:n.updateVisible,title:"修改密码",width:"470px"},on:{"update:visible":function(e){n.updateVisible=e},close:n.closeDialog1}},[t("el-form",{ref:"uptPwdForm",staticClass:"demo-ruleForm",attrs:{"auto-complete":"off",rules:n.uptPwdRules,model:n.uptPwdForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"登录密码",prop:"newPwd"}},[t("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入登录密码",readonly:n.readonly},on:{focus:function(e){n.readonly=!1}},model:{value:n.uptPwdForm.newPwd,callback:function(e){n.$set(n.uptPwdForm,"newPwd","string"==typeof e?e.trim():e)},expression:"uptPwdForm.newPwd"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"确认登录密码",prop:"rePwd"}},[t("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请确认登录密码",readonly:n.readonly},on:{focus:function(e){n.readonly=!1}},model:{value:n.uptPwdForm.rePwd,callback:function(e){n.$set(n.uptPwdForm,"rePwd","string"==typeof e?e.trim():e)},expression:"uptPwdForm.rePwd"}})],1)],1),n._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(e){n.updateVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{size:"small",type:"primary",loading:n.loading},nativeOn:{click:function(e){return e.preventDefault(),n.updateSurePwd(e)}}},[n._v("确 定")])],1)],1)],1)])},[],!1,null,null,null);y.options.__file="userList.vue";e.default=y.exports},ntos:function(n,e,t){var r=t("XMYD");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,t("SZ7m").default)("e9ad6838",r,!0,{})},ujVd:function(n,e,t){"use strict";var r=t("ntos");t.n(r).a}}]);