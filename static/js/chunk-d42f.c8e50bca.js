(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d42f"],{"0MD+":function(e,t,n){"use strict";var i=n("HCWx");n.n(i).a},"7Qib":function(e,t,n){"use strict";n.d(t,"h",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"i",function(){return y}),n.d(t,"c",function(){return M}),n.d(t,"e",function(){return w});var i=n("14Xm"),r=n.n(i),o=n("D3Ub"),a=n.n(o),u=(n("jWXv"),n("rfXi"),n("GQeE"),n("EJiy")),l=n.n(u),s=n("Kw5r"),d=n("Q2AE"),m=(n("X4fA"),n("Yfch")),c=n("N4Yp");function f(e,t){if(0===arguments.length)return null;var n=t||"{y}-{m}-{d} {h}:{i}:{s}",i=void 0;"object"===(void 0===e?"undefined":l()(e))?i=e:(10===(""+e).length&&(e=1e3*parseInt(e)),i=new Date(e));var r={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()};return n.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var n=r[t];return"a"===t?["日","一","二","三","四","五","六"][n]:(e.length>0&&n<10&&(n="0"+n),n||0)})}function h(e){var t=e||new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function p(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();return t+"-"+n+"-"+(i=i<10?"0"+i:i)}s.default.prototype.copy_obj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)t[n]=e[n];return t},s.default.prototype.show_feeType=function(e,t){for(var n=[],i=0;i<n.length;i++)if(e===n[i])return!0},s.default.prototype.showPageNum=function(e,t,n){return n<=t?1:Math.ceil((n-0)/t)-e>=0?e:e-1},s.default.prototype.Multiple=function(e){return 100*((e-0)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)).toFixed(2)/100},s.default.prototype.delBackPage=function(e,t){var n=e.pageNum,i=e.pageSize,r=e.total,o=t.length,a=Math.ceil((r-o)/i);return a?a>=n?n:n-1:1},s.default.prototype.delBackPage2=function(e,t,n,i){var r=Math.ceil((n-i)/t);return r?r>=e?e:e-1:1},s.default.prototype.showDay=function(){var e=new Date,t=Number(e.getMonth())+1;return e.getFullYear()+"-"+t+"-"+e.getDate()},s.default.prototype.showWeekFirstDay=function(){var e=new Date,t=new Date(e-864e5*(e.getDay()-1)),n=Number(t.getMonth())+1;return e.getFullYear()+"-"+n+"-"+t.getDate()},s.default.prototype.showMonthFirstDay=function(){var e=new Date,t=new Date(e.getYear(),e.getMonth(),1),n=Number(t.getMonth())+1;return e.getFullYear()+"-"+n+"-"+t.getDate()},s.default.prototype.showMonthDay=function(){var e=new Date,t=new Date(e-2592e6),n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();return n+"-"+(i<10?"0"+i:i)+"-"+(r<10?"0"+r:r)},s.default.prototype.formatImg=function(e){return e?e.indexOf(d.a.getters.appConfig.imageHost)>-1?e+"&token="+d.a.getters.token:e:""};function v(e,t,n){var i=void 0,r=void 0,o=void 0,a=void 0,u=void 0,l=function l(){var s=+new Date-a;s<t&&s>0?i=setTimeout(l,t-s):(i=null,n||(u=e.apply(o,r),i||(o=r=null)))};return function(){for(var r=arguments.length,s=Array(r),d=0;d<r;d++)s[d]=arguments[d];o=this,a=+new Date;var m=n&&!i;return i||(i=setTimeout(l,t)),m&&(u=e.apply(o,s),o=s=null),u}}function g(e){return 1==e.length||(window.vue.$message.warning("列表中请选择一个"),!1)}function b(e){return e.length>0||(window.vue.$message.warning("列表中请至少选择一个"),!1)}function y(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];b(e)&&window.vue.$confirm("确认"+(-1==t?"删除":r||(t?"开启":"关闭"))+"吗？").then(function(r){var a=[];e.find(function(e){a.push(e.id)}),window.vue.$store.dispatch("open_close_delete",{req_name:n,data:o||(-1==t?{id:a}:{id:a,status:t})}).then(function(e){window.vue.$message.success("成功!"),i&&i()})}).catch(function(e){})}function M(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();return t+"-"+n+"-"+(i=i<10?"0"+i:i)}var w=function(){var e=a()(r.a.mark(function e(){var t,n,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=window.vue.$route.query.id,i=window.vue.$route.path.substring(1),e.next=5,Object(c.k)({pageid:n,url:i});case 5:return o=e.sent,(t=o.rows).forEach(function(e){switch(e.flag=e.url.indexOf("|")>-1?e.url.split("|")[0]:e.url,e.flag){case"add":case"edit":case"list":case"custom":case"sms":case"detail":case"check":case"edit":case"upgrade":case"remove":case"batch":case"enter":case"export":case"pwd":e.type="primary";break;case"on":case"onModule":case"off":case"offModule":e.type="warning";break;case"del":case"delModule":e.type="danger";break;default:e.type="primary"}}),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();s.default.prototype.outExcel=function(e,t,i,r){var o=this;0!=r.length?Promise.all([n.e("chunk-7a80"),n.e("chunk-413d")]).then(n.bind(null,"S/jZ")).then(function(n){var a=Object(m.j)(i,r);n.export_json_to_excel({header:t,data:a,filename:e+Object(m.d)(),autoWidth:o.autoWidth})}):window.vue.$message.warning("请至少选择一条数据")},s.default.prototype.getCheckData=function(e,t,i){var r=this;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0!=t.length){for(var o=[],a=[],u=[],l=0;l<t.length;l++){var s=this.copy_obj(t[l]);u.push(s)}for(var c=0;c<i.length;c++)if(1!=i[c].hidden){if("money"==i[c].type||"rewardMoney"==i[c].type||"recordMoney"==i[c].type||"warningMoney"==i[c].type)for(var f=0;f<u.length;f++){var h=i[c].name;u[f][h]=Object(m.v)(u[f][h])}else if("stateMuch"==i[c].type)for(f=0;f<u.length;f++){h=i[c].name;u[f][h]=i[c].stateMuch[u[f][h]]}else if("arrayValue"==i[c].type){var p=d.a.getters[i[c].arrayValue].list;for(f=0;f<u.length;f++){h=i[c].name;if(p)for(var v=0;v<p.length;v++)if(p[v].value==u[f][h]){u[f][h]=p[v].label;break}}}o.push(i[c].label),a.push(i[c].name)}Promise.all([n.e("chunk-7a80"),n.e("chunk-413d")]).then(n.bind(null,"S/jZ")).then(function(t){var n=Object(m.j)(a,u);t.export_json_to_excel({header:o,data:n,filename:e+Object(m.d)(),autoWidth:r.autoWidth})})}else window.vue.$message.warning("请至少选择一条数据")},s.default.prototype.getParents=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(t)for(var n in t){if(t[n].value==e)return[t[n].value];if(t[n].children){var i=this.getParents(e,t[n].children);if(void 0!==i)return i.concat(t[n].value)}}},s.default.prototype.getAllChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.agentList.list;if(t)for(var n in t){if(t[n].value==e)return[t[n].value];if(!t[n].children)return i.concat(t[n].value);var i=this.getParents(e,t[n].children);if(void 0!==i)return i.concat(t[n].value)}},s.default.prototype.sortArr=function(e){if(e){for(var t=[],n=e.length;n--;n>=0)t.push(e[n]);return t}},s.default.prototype.toChinesNum=function(e){var t=["零","一","二","三","四","五","六","七","八","九"],n=["","十","百","千","万"];e=parseInt(e);var i=function(e){for(var i=e.toString().split("").reverse(),r="",o=0;o<i.length;o++)r=(0==o&&0==i[o]?"":o>0&&0==i[o]&&0==i[o-1]?"":t[i[o]]+(0==i[o]?n[0]:n[o]))+r;return r},r=Math.floor(e/1e4),o=e%1e4;return o.toString().length<4&&(o="0"+o),r?i(r)+"万"+i(o):i(e)}},HCWx:function(e,t,n){var i=n("cefj");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("723c47c7",i,!0,{})},cefj:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.no-mb[data-v-cf9f2afc] {\r\n  margin-bottom: 0;\n}\n.border-1[data-v-cf9f2afc] {\r\n  border: 1px solid #dcdcdc;\n}\n.custom-tree-node[data-v-cf9f2afc] {\r\n  -webkit-box-flex: 1;\r\n      -ms-flex: 1;\r\n          flex: 1;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n      -ms-flex-align: center;\r\n          align-items: center;\r\n  -webkit-box-pack: justify;\r\n      -ms-flex-pack: justify;\r\n          justify-content: space-between;\r\n  padding-right: 15px;\n}\n.plane-title[data-v-cf9f2afc] {\r\n  height: 40px;\r\n  padding: 10px;\r\n  color: #3782dc;\r\n  border-bottom: 1px solid #b4d7ff;\r\n  background: #ebf5ff;\r\n  text-align: center;\n}\n.plane-title-span[data-v-cf9f2afc] {\r\n  color: #3782dc;\r\n  font-size: 16px;\r\n  font-weight: 600;\n}\n.menu-form[data-v-cf9f2afc] {\r\n  margin-top: 10px;\n}\n.menu-form .el-form-item[data-v-cf9f2afc] {\r\n  height: 34px;\r\n  line-height: 34px;\r\n  margin-bottom: 20px;\n}\n.menu-form .el-form-item[data-v-cf9f2afc]:last-child {\r\n  margin-bottom: 0;\n}\n.menu-form[data-v-cf9f2afc] .el-form-item__label,\r\n.menu-form[data-v-cf9f2afc] .el-form-item__content,\r\n.menu-form[data-v-cf9f2afc] .el-input,\r\n.menu-form[data-v-cf9f2afc] .el-input__inner {\r\n  height: 34px;\r\n  line-height: 34px;\n}\n.menu-btn-row[data-v-cf9f2afc] {\r\n  padding: 10px 0;\r\n  text-align: center;\n}\n.el-tree-node__content[data-v-cf9f2afc] {\r\n  height: 22px !important;\n}\r\n",""])},t4Or:function(e,t,n){"use strict";n.r(t);var i=n("m1cH"),r=n.n(i),o=n("FyfS"),a=n.n(o),u=n("gDS+"),l=n.n(u),s=n("N4Yp"),d=n("7Qib"),m={name:"menuList",data:function(){return{btnLoading:!1,listLoading:!1,menuData:[],menuTreeData:[],menuTreeProps:{children:"menuData",label:"name"},editMenuForm:{menuType:1,menuTypeChs:"菜单",nameLabel:"菜单名称",name:"",namePlaceholder:"请填写菜单名称",urlLabel:"菜单url",url:"",urlPlaceholder:"请填写url",show:!0},editMenuRules:{name:{required:!0,message:"请填写菜单名称",trigger:"blur"}},addMenuForm:{menuType:2,menuTypeChs:"页面",nameLabel:"页面名称",name:"",namePlaceholder:"请填写页面名称",urlLabel:"页面url",url:"",urlPlaceholder:"请填写url",show:!0},addMenuRules:{menuType:{required:!0,type:"integer",min:1,max:2,message:"请选择类型",trigger:"change"},name:{required:!0,message:"名称不能为空",trigger:"blur"}},editButtonForm:{menuType:3,name:"",url:"",show:!0},editButtonRules:{name:{required:!0,message:"请填写按钮名称",trigger:"blur"}},moveMenuForm:{name:"",oldPath:"",newPath:"",treeData:[]},moveMenuRules:{newPath:{required:!0,message:"请选择要移动到哪一个菜单下",trigger:"change"}},buttonList:[],treeLoading:!1,currentButton:[],addMenuVisible:!1,editButtonVisible:!1,moveMenuVisible:!1,editButtonTitle:"添加按钮",btnAddEditFlag:"add",selectedTreeNodeId:"",selectedTreeNodePid:"",selectedMoveToNodeId:"",selectedButtonRows:[],addLimit:!1,editLimit:!1,orderLimit:!1,delLimit:!1,is888:!1}},mounted:function(){var e=this;Object(d.e)().then(function(t){e.currentButton=t,e.setButtonLimit(),e.GetSysMenu(),e.expandedKeys=e.menuKeys})},methods:{setButtonLimit:function(){var e=null;this.addLimit=!1,this.editLimit=!1,this.orderLimit=!1,this.delLimit=!1,(e=this.currentButton.filter(function(e){return"add"===e.flag}))&&e.length>0&&(this.addLimit=!0),(e=this.currentButton.filter(function(e){return"edit"===e.flag}))&&e.length>0&&(this.editLimit=!0),(e=this.currentButton.filter(function(e){return"order"===e.flag}))&&e.length>0&&(this.orderLimit=!0),(e=this.currentButton.filter(function(e){return"del"===e.flag}))&&e.length>0&&(this.delLimit=!0)},GetSysMenu:function(){var e=this;this.treeLoading=!0,Object(s.m)().then(function(t){e.treeLoading=!1,e.menuData=t.rows;var n=JSON.parse(l()(e.menuData));e.setMenuTreeData(n,"","","");var i=JSON.parse(l()(e.menuData));e.setMoveTreeData(i)})},setMenuTreeData:function(e,t,n,i){i+=n+",";var r=!0,o=!1,u=void 0;try{for(var l,s=a()(e);!(r=(l=s.next()).done);r=!0){var d=l.value;d.pid=t,d.layer=i,1===d.menuType&&d.menuData.length>0?this.setMenuTreeData(d.menuData,d.id,d.name,i):d.menuData=[]}}catch(e){o=!0,u=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw u}}var m=[{menuData:e,name:"平台目录管理",nodeLabel:"平台目录管理",show:!0,menuType:888,id:"",url:"",layer:""}];this.menuTreeData=m},setMoveTreeData:function(e){var t=[];this.createMoveTreeNode(e,t,"","");var n=[{menuData:t,name:"根目录",nodeLabel:"根目录",show:!0,menuType:888,id:"",url:"",layer:""}];this.moveMenuForm.treeData=n},createMoveTreeNode:function(e,t,n,i){i+=n+",";var r=!0,o=!1,u=void 0;try{for(var l,s=a()(e);!(r=(l=s.next()).done);r=!0){var d=l.value;if(1===d.menuType){var m={id:d.id,menuData:[],menuType:d.menuType,name:d.name,nodeLabel:d.name,orderIndex:d.orderIndex,show:d.show,url:d.url,layer:i+d.name};t.push(m),d.menuData.length>0&&this.createMoveTreeNode(d.menuData,m.menuData,d.name,i)}}}catch(e){o=!0,u=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw u}}},openAddMenu:function(e){this.is888=!1,2!==e.menuType?(888===e.menuType?(this.is888=!0,this.addMenuForm={menuType:1,menuTypeChs:"菜单",nameLabel:"菜单名称",name:"",namePlaceholder:"请填写菜单名称",urlLabel:"菜单url",url:"",urlPlaceholder:"请填写url",show:!0}):(this.is888=!1,this.addMenuForm={menuType:2,menuTypeChs:"页面",nameLabel:"页面名称",name:"",namePlaceholder:"请填写页面名称",urlLabel:"页面url",url:"",urlPlaceholder:"请填写url",show:!0}),this.addMenuVisible=!0):this.$message.warning("页面下不可添加子项")},delMenu:function(e){var t=this;this.$confirm("删除不可恢复，是否确定删除？").then(function(){Object(s.d)({id:[e]}).then(function(){t.$message.success("菜单删除成功"),t.GetSysMenu()})})},menuTreeClick:function(e,t,n){this.selectedTreeNodeId=e.id,this.selectedTreeNodePid=e.pid,this.editMenuForm.url=e.url,this.editMenuForm.show=e.show,this.editMenuForm.name=e.name,this.editMenuForm.menuType=e.menuType;var i=this.editMenuForm.menuType;this.editMenuForm.nameLabel=1===i?"菜单名称":"页面名称",this.editMenuForm.urlLabel=1===i?"菜单url":"页面url",this.editMenuForm.namePlaceholder=1===i?"请填写菜单名称":"请填写页面名称",this.editMenuForm.urlPlaceholder=1===i?"请填写菜单url":"请填写页面url",this.editMenuForm.menuTypeChs=1===i?"菜单":"页面",this.buttonList=[],this.findNodeButton(this.menuData,this.buttonList,e.id),this.moveMenuForm.name=e.name;var r=e.layer,o=(r=0===r.indexOf(",")?r.substring(1):r).length-1;r=r.lastIndexOf(",")===o?r.substring(0,o):r,this.moveMenuForm.oldPath=r.replace(/,/g," > "),this.moveMenuForm.oldPath=this.moveMenuForm.oldPath||"根目录"},findNodeButton:function(e,t,n){var i=!0,o=!1,u=void 0;try{for(var l,s=a()(e);!(i=(l=s.next()).done);i=!0){var d=l.value;d.id!==n?this.findNodeButton(d.menuData,t,n):1===d.menuType?this.findNodeButton(d.menuData,t,n):t.push.apply(t,r()(d.menuData))}}catch(e){o=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw u}}},renderButtonList:function(e){var t=this;this.treeLoading=!0,Object(s.m)().then(function(n){t.treeLoading=!1,t.menuData=n.rows,t.buttonList=[],t.findNodeButton(t.menuData,t.buttonList,e)})},addMenuFormSubmit:function(){var e=this;this.$refs.addMenuForm.validate(function(t){if(t){e.btnLoading=!0;var n={sysMenuDataList:[{menuType:e.addMenuForm.menuType,name:e.addMenuForm.name,pid:e.selectedTreeNodeId,show:e.addMenuForm.show,url:e.addMenuForm.url}]};Object(s.b)(n).then(function(){e.btnLoading=!1,e.$message.success("菜单添加成功"),e.addMenuVisible=!1,e.GetSysMenu()}).catch(function(){return e.btnLoading=!1})}})},editTreeMenuSubmit:function(){var e=this;this.selectedTreeNodeId?this.$refs.editMenuForm.validate(function(t){if(t){e.btnLoading=!0;var n={id:e.selectedTreeNodeId,menuType:e.editMenuForm.menuType,name:e.editMenuForm.name,pid:e.selectedTreeNodePid,show:e.editMenuForm.show,url:e.editMenuForm.url};Object(s.g)(n).then(function(){e.btnLoading=!1,e.$message.success("信息修改成功"),e.GetSysMenu()}).catch(function(){return e.btnLoading=!1})}}):this.$message.warning("请选中一条菜单记录")},moveMenuTreeSumbit:function(){var e=this;this.$refs.moveMenuForm.validate(function(t){if(t){e.btnLoading=!0;var n={id:e.selectedTreeNodeId,menuType:e.editMenuForm.menuType,name:e.editMenuForm.name,pid:e.selectedMoveToNodeId,show:e.editMenuForm.show,url:e.editMenuForm.url};Object(s.g)(n).then(function(){e.btnLoading=!1,e.$message.success("信息修改成功"),e.moveMenuVisible=!1,e.GetSysMenu()}).catch(function(){return e.btnLoading=!1})}})},moveTreeClick:function(e){var t=e.layer;t=(t=(t=0===t.indexOf(",")?t.substring(1):t).replace(/,/g," > "))||"根目录",this.moveMenuForm.newPath=t,this.selectedMoveToNodeId=e.id},editButtonFormSubmit:function(){var e=this;this.$refs.editButtonForm.validate(function(t){if(t)if("add"===e.btnAddEditFlag){e.btnLoading=!0;var n={sysMenuDataList:[{menuType:3,name:e.editButtonForm.name,pid:e.selectedTreeNodeId,show:e.editButtonForm.show,url:e.editButtonForm.url}]};Object(s.b)(n).then(function(t){e.btnLoading=!1,e.$message.success("添加按钮成功"),e.editButtonVisible=!1,e.renderButtonList(t.rows[0].pid)}).catch(function(){return e.btnLoading=!1})}else{e.btnLoading=!0;var i={id:e.selectedButtonRows[0].id,menuType:3,name:e.editButtonForm.name,pid:e.selectedTreeNodeId,show:e.editButtonForm.show,url:e.editButtonForm.url};Object(s.g)(i).then(function(){e.btnLoading=!1,e.$message.success("修改按钮成功"),e.editButtonVisible=!1,e.renderButtonList(e.selectedTreeNodeId)}).catch(function(){return e.btnLoading=!1})}})},isNull:function(e){return 0==e.length?(this.$message.warning("没有选中任何数据"),!1):!(e.length>1)||(this.$message.warning("请选择一条数据"),!1)},buttonListChange:function(e){this.selectedButtonRows=e},openAddButton:function(){this.selectedTreeNodeId?this.editMenuForm.menuType&&1===this.editMenuForm.menuType?this.$message.warning("不可在菜单类型的节点下添加按钮"):(this.editButtonForm={menuType:3,name:"",url:"",show:!0},this.btnAddEditFlag="add",this.editButtonTitle="添加按钮",this.editButtonVisible=!0):this.$message.warning("请选中一条菜单记录")},openEditButton:function(){this.selectedTreeNodeId?this.editMenuForm.menuType&&1===this.editMenuForm.menuType?this.$message.warning("不可在菜单类型的节点下编辑按钮"):(this.btnAddEditFlag="edit",this.editButtonTitle="编辑按钮",this.isNull(this.selectedButtonRows)&&(this.editButtonVisible=!0,this.editButtonForm=JSON.parse(l()(this.selectedButtonRows[0])))):this.$message.warning("请选中一条菜单记录")},openDelButton:function(){var e=this;this.selectedTreeNodeId?this.editMenuForm.menuType&&1===this.editMenuForm.menuType?this.$message.warning("不可在菜单类型的节点下删除按钮"):0!==this.selectedButtonRows.length?this.$confirm("删除不可恢复，是否确定删除？").then(function(){var t=[];e.btnLoading=!0,e.selectedButtonRows.forEach(function(e){return t.push(e.id)}),Object(s.d)({id:t}).then(function(){e.btnLoading=!1,e.$message.success("删除按钮成功"),e.renderButtonList(e.selectedTreeNodeId)}).catch(function(){return e.btnLoading=!1})}):this.$message.warning("没有选中任何数据"):this.$message.warning("请选中一条菜单记录")},menuTypeChange:function(){this.addMenuForm.nameLabel=1===this.addMenuForm.menuType?"菜单名称":"页面名称",this.addMenuForm.namePlaceholder=1===this.addMenuForm.menuType?"请填写菜单名称":"请填写页面名称",this.addMenuForm.urlLabel=1===this.addMenuForm.menuType?"菜单url":"页面url",this.addMenuForm.urlPlaceholder=1===this.addMenuForm.menuType?"请填写菜单url":"请填写页面url"},editMenuOrder:function(e,t){var n=this;Object(s.h)({editOrderUp:e,id:t}).then(function(e){n.GetSysMenu()})},editButtonOrder:function(e,t){var n=this;Object(s.h)({editOrderUp:e,id:t}).then(function(e){return n.renderButtonList(n.selectedTreeNodeId)})},closeAddMenu:function(){this.closeDialog("addMenuForm")},closeEditButton:function(){this.closeDialog("editButtonForm")},closeMoveMenu:function(){this.closeDialog("moveMenuForm")},closeDialog:function(e){var t=this;setTimeout(function(){return t.$refs[e].resetFields()},300)}},filters:{getTrueFalseChs:function(e){return e?"是":"否"},getMenuTypeChs:function(e){return 1===e?"(菜单)":2===e?"(页面)":3===e?"(按钮)":void 0}}},c=(n("0MD+"),n("KHd+")),f=Object(c.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[n("el-row",{staticClass:"no-mb",attrs:{gutter:20}},[n("el-col",{attrs:{span:10}},[n("el-row",{staticClass:"no-mb border-1"},[n("el-row",{staticClass:"no-mb plane-title"},[n("span",{staticClass:"plane-title-span"},[e._v("菜单维护")])]),e._v(" "),n("el-row",{staticClass:"no-mb"},[n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticStyle:{"max-height":"660px","overflow-x":"hidden","overflow-y":"auto"},attrs:{data:e.menuTreeData,props:e.menuTreeProps,"element-loading-text":"Loading","expand-on-click-node":!1,"node-key":"id","highlight-current":"","default-expand-all":""},on:{"node-click":e.menuTreeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,r=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",{attrs:{title:r.orderIndex}},[n("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(i.label))]),e._v(" "),n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e._f("getMenuTypeChs")(r.menuType)))])]),e._v(" "),n("span",[e.addLimit&&1===r.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.openAddMenu(r)}}},[e._v("添加子项")]):e._e(),e._v(" "),e.addLimit&&888===r.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.openAddMenu(r)}}},[e._v("添加一级菜单")]):e._e(),e._v(" "),e.delLimit&&888!==r.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.delMenu(r.id)}}},[e._v("删除")]):e._e(),e._v(" "),e.orderLimit&&888!==r.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.moveMenuVisible=!0}}},[e._v("移动至")]):e._e(),e._v(" "),e.orderLimit&&888!==r.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.editMenuOrder(!0,r.id)}}},[e._v("上移")]):e._e(),e._v(" "),e.orderLimit&&888!==r.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){e.editMenuOrder(!1,r.id)}}},[e._v("下移")]):e._e()],1)])}}])})],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:14}},[n("el-row",{staticClass:"no-mb border-1"},[n("el-row",{staticClass:"no-mb plane-title"},[n("span",{staticClass:"plane-title-span"},[e._v("编辑菜单/页面")])]),e._v(" "),n("el-form",{ref:"editMenuForm",staticClass:"menu-form",attrs:{rules:e.editMenuRules,model:e.editMenuForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{attrs:{disabled:""},model:{value:e.editMenuForm.menuTypeChs,callback:function(t){e.$set(e.editMenuForm,"menuTypeChs",t)},expression:"editMenuForm.menuTypeChs"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.editMenuForm.nameLabel,prop:"name"}},[n("el-input",{attrs:{placeholder:e.editMenuForm.namePlaceholder},model:{value:e.editMenuForm.name,callback:function(t){e.$set(e.editMenuForm,"name","string"==typeof t?t.trim():t)},expression:"editMenuForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.editMenuForm.urlLabel}},[n("el-input",{attrs:{placeholder:e.editMenuForm.urlPlaceholder},model:{value:e.editMenuForm.url,callback:function(t){e.$set(e.editMenuForm,"url","string"==typeof t?t.trim():t)},expression:"editMenuForm.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"是否显示"}},[n("el-switch",{model:{value:e.editMenuForm.show,callback:function(t){e.$set(e.editMenuForm,"show",t)},expression:"editMenuForm.show"}})],1)],1),e._v(" "),n("el-row",{staticClass:"no-mb menu-btn-row"},[e.editLimit?n("el-button",{attrs:{type:"primary",size:"mini",loading:e.btnLoading},on:{click:e.editTreeMenuSubmit}},[e._v("保 存")]):e._e()],1)],1),e._v(" "),n("el-row",{staticClass:"no-mb border-1",staticStyle:{"margin-top":"10px"}},[n("el-row",{staticClass:"no-mb plane-title"},[n("span",{staticClass:"plane-title-span"},[e._v("按钮管理")])]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.buttonList,"header-cell-style":{background:"#eef1f6",padding:"3px"},"cell-style":{padding:"3px"},"element-loading-text":"Loading",border:"",fit:"",stripe:"","highlight-current-row":"","max-height":"305"},on:{"selection-change":e.buttonListChange}},[n("el-table-column",{attrs:{type:"selection"}}),e._v(" "),n("el-table-column",{attrs:{label:"排序号",align:"center","min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderIndex))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"按钮名称",align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"按钮事件标识",align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.url))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"是否显示",align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("getTrueFalseChs")(t.row.show)))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.orderLimit?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){e.editButtonOrder(!0,t.row.id)}}},[e._v("上移")]):e._e(),e._v(" "),e.orderLimit?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){e.editButtonOrder(!1,t.row.id)}}},[e._v("下移")]):e._e()]}}])})],1),e._v(" "),n("el-row",{staticClass:"no-mb menu-btn-row"},[e.addLimit?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.openAddButton}},[e._v("添 加")]):e._e(),e._v(" "),e.editLimit?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.openEditButton}},[e._v("编 辑")]):e._e(),e._v(" "),e.delLimit?n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.openDelButton}},[e._v("删 除")]):e._e()],1)],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.addMenuVisible,title:"添加子项",width:"470px"},on:{"update:visible":function(t){e.addMenuVisible=t},close:e.closeAddMenu}},[n("el-form",{ref:"addMenuForm",attrs:{rules:e.addMenuRules,model:e.addMenuForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"类型",prop:"menuType"}},[n("el-radio",{attrs:{label:2,disabled:e.is888},on:{change:e.menuTypeChange},model:{value:e.addMenuForm.menuType,callback:function(t){e.$set(e.addMenuForm,"menuType",t)},expression:"addMenuForm.menuType"}},[e._v("页面")]),e._v(" "),n("el-radio",{attrs:{label:1},on:{change:e.menuTypeChange},model:{value:e.addMenuForm.menuType,callback:function(t){e.$set(e.addMenuForm,"menuType",t)},expression:"addMenuForm.menuType"}},[e._v("菜单")])],1),e._v(" "),n("el-form-item",{attrs:{label:e.addMenuForm.nameLabel,prop:"name"}},[n("el-input",{attrs:{placeholder:e.addMenuForm.namePlaceholder},model:{value:e.addMenuForm.name,callback:function(t){e.$set(e.addMenuForm,"name","string"==typeof t?t.trim():t)},expression:"addMenuForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.addMenuForm.urlLabel}},[n("el-input",{attrs:{placeholder:e.addMenuForm.urlPlaceholder},model:{value:e.addMenuForm.url,callback:function(t){e.$set(e.addMenuForm,"url","string"==typeof t?t.trim():t)},expression:"addMenuForm.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"是否显示"}},[n("el-switch",{model:{value:e.addMenuForm.show,callback:function(t){e.$set(e.addMenuForm,"show",t)},expression:"addMenuForm.show"}})],1)],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.addMenuVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.addMenuFormSubmit}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.editButtonVisible,title:e.editButtonTitle,width:"470px"},on:{"update:visible":function(t){e.editButtonVisible=t},close:e.closeEditButton}},[n("el-form",{ref:"editButtonForm",attrs:{rules:e.editButtonRules,model:e.editButtonForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"按钮名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请填写按钮名称"},model:{value:e.editButtonForm.name,callback:function(t){e.$set(e.editButtonForm,"name","string"==typeof t?t.trim():t)},expression:"editButtonForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"按钮事件标识"}},[n("el-input",{attrs:{placeholder:"请填写按钮事件标识"},model:{value:e.editButtonForm.url,callback:function(t){e.$set(e.editButtonForm,"url","string"==typeof t?t.trim():t)},expression:"editButtonForm.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"是否显示"}},[n("el-switch",{model:{value:e.editButtonForm.show,callback:function(t){e.$set(e.editButtonForm,"show",t)},expression:"editButtonForm.show"}})],1)],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.editButtonVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.editButtonFormSubmit}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.moveMenuVisible,title:"移动菜单/页面",width:"470px"},on:{"update:visible":function(t){e.moveMenuVisible=t},close:e.closeMoveMenu}},[n("el-form",{ref:"moveMenuForm",attrs:{rules:e.moveMenuRules,model:e.moveMenuForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{readonly:""},model:{value:e.moveMenuForm.name,callback:function(t){e.$set(e.moveMenuForm,"name","string"==typeof t?t.trim():t)},expression:"moveMenuForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"当前所属"}},[n("el-input",{attrs:{readonly:""},model:{value:e.moveMenuForm.oldPath,callback:function(t){e.$set(e.moveMenuForm,"oldPath","string"==typeof t?t.trim():t)},expression:"moveMenuForm.oldPath"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"移动至",prop:"newPath"}},[n("el-input",{attrs:{readonly:""},model:{value:e.moveMenuForm.newPath,callback:function(t){e.$set(e.moveMenuForm,"newPath","string"==typeof t?t.trim():t)},expression:"moveMenuForm.newPath"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"选择菜单"}},[n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticStyle:{height:"250px","overflow-x":"hidden","overflow-y":"auto",border:"1px solid #e9e9e9"},attrs:{data:e.moveMenuForm.treeData,props:e.menuTreeProps,"element-loading-text":"Loading","expand-on-click-node":!1,"default-expand-all":"","highlight-current":""},on:{"node-click":e.moveTreeClick}})],1)],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.moveMenuVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.moveMenuTreeSumbit}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"cf9f2afc",null);f.options.__file="menuList.vue";t.default=f.exports}}]);